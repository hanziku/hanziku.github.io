var app=function(){"use strict";function t(){}function e(t){return t()}function n(){return Object.create(null)}function r(t){t.forEach(e)}function o(t){return"function"==typeof t}function i(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}function s(e,n,r){e.$$.on_destroy.push(function(e,...n){if(null==e)return t;const r=e.subscribe(...n);return r.unsubscribe?()=>r.unsubscribe():r}(n,r))}function a(t,e){t.appendChild(e)}function h(t,e,n){t.insertBefore(e,n||null)}function c(t){t.parentNode.removeChild(t)}function u(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function l(t){return document.createElement(t)}function f(t){return document.createTextNode(t)}function p(){return f(" ")}function g(){return f("")}function d(t,e,n,r){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n,r)}function y(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function k(t,e){e=""+e,t.wholeText!==e&&(t.data=e)}function v(t,e){t.value=null==e?"":e}function m(t,e,n){t.classList[n?"add":"remove"](e)}class x{constructor(){this.e=this.n=null}c(t){this.h(t)}m(t,e,n=null){this.e||(this.e=l(e.nodeName),this.t=e,this.c(t)),this.i(n)}h(t){this.e.innerHTML=t,this.n=Array.from(this.e.childNodes)}i(t){for(let e=0;e<this.n.length;e+=1)h(this.t,this.n[e],t)}p(t){this.d(),this.h(t),this.i(this.a)}d(){this.n.forEach(c)}}let M;function A(t){M=t}const b=[],w=[],V=[],_=[],j=Promise.resolve();let P=!1;function $(t){V.push(t)}function W(t){_.push(t)}let U=!1;const S=new Set;function I(){if(!U){U=!0;do{for(let t=0;t<b.length;t+=1){const e=b[t];A(e),Y(e.$$)}for(A(null),b.length=0;w.length;)w.pop()();for(let t=0;t<V.length;t+=1){const e=V[t];S.has(e)||(S.add(e),e())}V.length=0}while(b.length);for(;_.length;)_.pop()();P=!1,U=!1,S.clear()}}function Y(t){if(null!==t.fragment){t.update(),r(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach($)}}const C=new Set;let E;function N(){E={r:0,c:[],p:E}}function T(){E.r||r(E.c),E=E.p}function O(t,e){t&&t.i&&(C.delete(t),t.i(e))}function L(t,e,n,r){if(t&&t.o){if(C.has(t))return;C.add(t),E.c.push((()=>{C.delete(t),r&&(n&&t.d(1),r())})),t.o(e)}}function K(t,e,n){const r=t.$$.props[e];void 0!==r&&(t.$$.bound[r]=n,n(t.$$.ctx[r]))}function B(t){t&&t.c()}function D(t,n,i,s){const{fragment:a,on_mount:h,on_destroy:c,after_update:u}=t.$$;a&&a.m(n,i),s||$((()=>{const n=h.map(e).filter(o);c?c.push(...n):r(n),t.$$.on_mount=[]})),u.forEach($)}function G(t,e){const n=t.$$;null!==n.fragment&&(r(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function z(t,e){-1===t.$$.dirty[0]&&(b.push(t),P||(P=!0,j.then(I)),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function R(e,o,i,s,a,h,u,l=[-1]){const f=M;A(e);const p=e.$$={fragment:null,ctx:null,props:h,update:t,not_equal:a,bound:n(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(f?f.$$.context:o.context||[]),callbacks:n(),dirty:l,skip_bound:!1,root:o.target||f.$$.root};u&&u(p.root);let g=!1;if(p.ctx=i?i(e,o.props||{},((t,n,...r)=>{const o=r.length?r[0]:n;return p.ctx&&a(p.ctx[t],p.ctx[t]=o)&&(!p.skip_bound&&p.bound[t]&&p.bound[t](o),g&&z(e,t)),n})):[],p.update(),g=!0,r(p.before_update),p.fragment=!!s&&s(p.ctx),o.target){if(o.hydrate){const t=function(t){return Array.from(t.childNodes)}(o.target);p.fragment&&p.fragment.l(t),t.forEach(c)}else p.fragment&&p.fragment.c();o.intro&&O(e.$$.fragment),D(e,o.target,o.anchor,o.customElement),I()}A(f)}class F{$destroy(){G(this,1),this.$destroy=t}$on(t,e){const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(e),()=>{const t=n.indexOf(e);-1!==t&&n.splice(t,1)}}$set(t){var e;this.$$set&&(e=t,0!==Object.keys(e).length)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}const X=(t,e)=>t>e?1:t<e?-1:0,J=14,Q=113,H=209321,Z=t=>{const e=[];let n;const r=Math.floor(t.length);for(let o=0;o<r;o++)n=t.charCodeAt(3*o)-J,e.push(n);return new Int32Array(e)},q=(t,e=!1)=>{let n;if(!t)return[];let r,o=0,i=0,s=0;for(;o<t.length;){if(r=t.charCodeAt(o)-J,r<45);else if(r<89){const e=t.charCodeAt(++o)-J;r-=45,r=r*Q+e+45}else if(r<105){const e=t.charCodeAt(++o)-J,n=t.charCodeAt(++o)-J;r-=89,r=r*Q*Q+e*Q+n+5017}else if(r<112){const e=t.charCodeAt(++o)-J,n=t.charCodeAt(++o)-J,i=t.charCodeAt(++o)-J;r-=105,r=r*Q*Q*Q+e*Q*Q+n*Q+i+H}else{if(!(r<127))throw new Error("exit max integer 0x7f,"+r);{const e=t.charCodeAt(++o)-J,n=t.charCodeAt(++o)-J,i=t.charCodeAt(++o)-J,s=t.charCodeAt(++o)-J;r-=112,r=r*Q*Q*Q*Q+e*Q*Q*Q+n*Q*Q+i*Q+s+H}}n?(n[i]=r+(e?s:0),s=n[i],i++):n=new Int32Array(r),o++}return n},tt=t=>{if(!t)return[];let e=0;const n=[];for(;e<t.length;){const r=t.codePointAt(e);n.push(r),e++,r>65535&&e++}return n},et=t=>tt(t).map((t=>String.fromCodePoint(t))),nt=t=>{var e=t.match(/[\s\S]/gu);return e?e.length:0},rt=(t,e)=>{let n=0;for(let r=0;r<t.length&&r<e.length&&t[r]==e[r];r++)n++;return n},ot=(t,e,n,r=-1)=>{if(!t||t.length<1)return-1;if(r>-1)return((t,e,n,r)=>{let o,i=0,s=t.length-1;for(;i<s;){if(o=i+s>>1,t[o][r]===e){for(;o>-1&&t[o-1]&&t[o-1][r]===e;)o--;return o}t[o][r]<e?i=o+1:s=o}if(n){if("string"==typeof e){let n=rt(t[i][r],e),o=i?rt(t[i-1][r],e):0;for(;i>0&&o>=n&&i>0&&(o=rt(t[i-1][r],e),o>=n);)n=o,i--}return i}return t[i][r]===e?i:-1})(t,e,n,r);let o,i=0,s=t.length-1;for(;i<s;){if(o=i+s>>1,t[o]===e){for(;o>-1&&t[o-1]===e;)o--;return o}t[o]<e?i=o+1:s=o}if(n){if("string"==typeof e){let n=rt(t[i],e),r=i?rt(t[i-1],e):0;for(;i>0&&r>=n&&i>0&&(r=rt(t[i-1],e),r>=n);)n=r,i--}return i}return t[i]===e?i:-1},it=(t,e,n)=>{const r=t();let o=0,i=r;for(;o<i;){var s=o+i>>1;if(t(s)===e){for(;s>-1&&t(s-1)===e;)s--;return s<r?s:r-1}t(s)<e?o=s+1:i=s}return n?o<r?o:r-1:t(o)===e?o:-1},st=(t,e,n,r=-1)=>("function"==typeof t?it:ot)(t,e,n,r),at={BMP:[19968,40869],ExtA:[13312,19967],ExtB:[131072,173823],ExtC:[173824,177983],ExtD:[177984,178207],ExtE:[178208,183983],ExtF:[183984,191456]},ht=()=>Object.keys(at),ct=t=>{let e=t;if("string"==typeof t){const n=parseInt(t,16);e=isNaN(n)?t.codePointAt(0):n}for(let t in at){const[n,r]=at[t];if(e>=n&&e<=r)return t}},ut=(t,e)=>{if(!t)return 0;const n=t.codePointAt(0);let r;return r=n>=13312&&n<196607?n:parseInt(t,16)||19968,e?262016&r:r};function lt(){}function ft(t,e,n,r,o){for(var i=0,s=e.length,a=0,h=0;i<s;i++){var c=e[i];if(c.removed){if(c.value=t.join(r.slice(h,h+c.count)),h+=c.count,i&&e[i-1].added){var u=e[i-1];e[i-1]=e[i],e[i]=u}}else{if(!c.added&&o){var l=n.slice(a,a+c.count);l=l.map((function(t,e){var n=r[h+e];return n.length>t.length?n:t})),c.value=t.join(l)}else c.value=t.join(n.slice(a,a+c.count));a+=c.count,c.added||(h+=c.count)}}var f=e[s-1];return s>1&&"string"==typeof f.value&&(f.added||f.removed)&&t.equals("",f.value)&&(e[s-2].value+=f.value,e.pop()),e}function pt(t){return{newPos:t.newPos,components:t.components.slice(0)}}lt.prototype={diff:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.callback;"function"==typeof n&&(r=n,n={}),this.options=n;var o=this;function i(t){return r?(setTimeout((function(){r(void 0,t)}),0),!0):t}t=this.castInput(t),e=this.castInput(e),t=this.removeEmpty(this.tokenize(t));var s=(e=this.removeEmpty(this.tokenize(e))).length,a=t.length,h=1,c=s+a,u=[{newPos:-1,components:[]}],l=this.extractCommon(u[0],e,t,0);if(u[0].newPos+1>=s&&l+1>=a)return i([{value:this.join(e),count:e.length}]);function f(){for(var n=-1*h;n<=h;n+=2){var r=void 0,c=u[n-1],l=u[n+1],f=(l?l.newPos:0)-n;c&&(u[n-1]=void 0);var p=c&&c.newPos+1<s,g=l&&0<=f&&f<a;if(p||g){if(!p||g&&c.newPos<l.newPos?(r=pt(l),o.pushComponent(r.components,void 0,!0)):((r=c).newPos++,o.pushComponent(r.components,!0,void 0)),f=o.extractCommon(r,e,t,n),r.newPos+1>=s&&f+1>=a)return i(ft(o,r.components,e,t,o.useLongestToken));u[n]=r}else u[n]=void 0}h++}if(r)!function t(){setTimeout((function(){if(h>c)return r();f()||t()}),0)}();else for(;h<=c;){var p=f();if(p)return p}},pushComponent:function(t,e,n){var r=t[t.length-1];r&&r.added===e&&r.removed===n?t[t.length-1]={count:r.count+1,added:e,removed:n}:t.push({count:1,added:e,removed:n})},extractCommon:function(t,e,n,r){for(var o=e.length,i=n.length,s=t.newPos,a=s-r,h=0;s+1<o&&a+1<i&&this.equals(e[s+1],n[a+1]);)s++,a++,h++;return h&&t.components.push({count:h}),t.newPos=s,a},equals:function(t,e){return this.options.comparator?this.options.comparator(t,e):t===e||this.options.ignoreCase&&t.toLowerCase()===e.toLowerCase()},removeEmpty:function(t){for(var e=[],n=0;n<t.length;n++)t[n]&&e.push(t[n]);return e},castInput:function(t){return t},tokenize:function(t){return t.split("")},join:function(t){return t.join("")}};var gt=/^[A-Za-z\xC0-\u02C6\u02C8-\u02D7\u02DE-\u02FF\u1E00-\u1EFF]+$/,dt=/\S/,yt=new lt;yt.equals=function(t,e){return this.options.ignoreCase&&(t=t.toLowerCase(),e=e.toLowerCase()),t===e||this.options.ignoreWhitespace&&!dt.test(t)&&!dt.test(e)},yt.tokenize=function(t){for(var e=t.split(/([^\S\r\n]+|[()[\]{}'"\r\n]|\b)/),n=0;n<e.length-1;n++)!e[n+1]&&e[n+2]&&gt.test(e[n])&&gt.test(e[n+2])&&(e[n]+=e[n+2],e.splice(n+1,2),n--);return e};var kt=new lt;function vt(t){return(vt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}kt.tokenize=function(t){var e=[],n=t.split(/(\n|\r\n)/);n[n.length-1]||n.pop();for(var r=0;r<n.length;r++){var o=n[r];r%2&&!this.options.newlineIsToken?e[e.length-1]+=o:(this.options.ignoreWhitespace&&(o=o.trim()),e.push(o))}return e},(new lt).tokenize=function(t){return t.split(/(\S.+?[.!?])(?=\s+|$)/)},(new lt).tokenize=function(t){return t.split(/([{}:;,]|\s+)/)};var mt=Object.prototype.toString,xt=new lt;function Mt(t,e,n,r,o){var i,s;for(e=e||[],n=n||[],r&&(t=r(o,t)),i=0;i<e.length;i+=1)if(e[i]===t)return n[i];if("[object Array]"===mt.call(t)){for(e.push(t),s=new Array(t.length),n.push(s),i=0;i<t.length;i+=1)s[i]=Mt(t[i],e,n,r,o);return e.pop(),n.pop(),s}if(t&&t.toJSON&&(t=t.toJSON()),"object"===vt(t)&&null!==t){e.push(t),s={},n.push(s);var a,h=[];for(a in t)t.hasOwnProperty(a)&&h.push(a);for(h.sort(),i=0;i<h.length;i+=1)s[a=h[i]]=Mt(t[a],e,n,r,a);e.pop(),n.pop()}else s=t;return s}xt.useLongestToken=!0,xt.tokenize=kt.tokenize,xt.castInput=function(t){var e=this.options,n=e.undefinedReplacement,r=e.stringifyReplacer,o=void 0===r?function(t,e){return void 0===e?n:e}:r;return"string"==typeof t?t:JSON.stringify(Mt(t,null,null,o),o,"  ")},xt.equals=function(t,e){return lt.prototype.equals.call(xt,t.replace(/,([\r\n])/g,"$1"),e.replace(/,([\r\n])/g,"$1"))};var At=new lt;At.tokenize=function(t){return t.slice()},At.join=At.removeEmpty=function(t){return t};const bt={a:"a","ā":"aA",i:"i","ī":"iA",u:"u","ū":"uA",o:"o",e:"e"},wt={"।":"।","॥":"॥",k:"k",t:"t","ñ":"Y","ṅ":"N","ṇ":"N","ḍ":"F","ṭ":"W",p:"p",c:"c",j:"j",s:"s",b:"b",y:"y",g:"g",d:"d",h:"h",m:"m",l:"l",v:"v",r:"r",n:"n","ḷ":"L",kh:"K",gh:"G",jh:"J",ch:"C","ṭh":"X","ḍh":"Q",th:"T",dh:"D",ph:"P",bh:"B",kk:"kVk",kkh:"kVK",gg:"gVg",ggh:"gVG",tt:"tVt",tth:"tVT","ṭṭ":"WVW","ṭṭh":"WVX",pp:"pVp",pph:"pVP",bb:"bVb",bbh:"bVB",jj:"jVj",jjh:"jVJ",cc:"cVc",cch:"cVC",ll:"lVl",mm:"mVm",nn:"nVn","ññ":"YVY",dd:"dVd",ddh:"dVD","ḍḍ":"FVF","ḍḍh":"FVQ",ss:"sVs",yy:"yVy","ṇṇ":"NVN","ṅgh":"NVG","ṅg":"NVg","ṅkh":"NVK","ṅk":"NVk","ṅkhy":"NVKVy",dr:"dVr",dv:"dVv",ndr:"nVdVr",br:"bVr",khv:"KVv",hm:"hVm",ly:"lVy",mbh:"mVB",mh:"mVh",mp:"mVp",mb:"mVb",nd:"nVd",ndh:"nVD","ṇṭh":"NVX","ñc":"YVc","ñj":"YVj","ñjh":"YVJ","ṇṭ":"NVV",nt:"nVt","ṇḍ":"NVF",sv:"sVv",sm:"sVm",tv:"tVv","ḷh":"LVh",nth:"nVT",yh:"yVh",ly:"lVy",tr:"tVr",mph:"mVP",nh:"nVh","ñch":"YVC",vh:"vVh","ṇṭ":"NVW",nv:"nVv",ky:"kVy",gy:"gVy",ntv:"nVtVv",my:"mVy",ty:"tVy",gr:"gVr",kr:"kVr",sn:"sVn",kl:"kVl",st:"sVt",khy:"KVy",pl:"pVl",nty:"nVtVy",hv:"hVv",sy:"sVy",dm:"dVm",khv:"KVv","ṇy":"NVy",kv:"kVv","ṇh":"NVh","ñh":"YVh",vy:"vVy",by:"bVy",py:"pVy",yv:"yVv","ṭy":"WVy",bhy:"BVy",tthy:"tVTVy",tn:"tVn",dhv:"DVv",dhy:"DVy",ny:"nVy",gv:"gVv",nky:"nVkVy",hy:"hVy","ṇv":"NVv",kkhy:"kVKVy",ntr:"nVtVr",bhm:"BVm",dy:"dVy",sp:"sVp"},Vt={};for(let t in wt)Vt[wt[t]]=t;for(let t in bt)Vt[bt[t]]=t;const _t=[],jt="aiueokKgGMcCjJYWXFQNtTdDnpPbBmhHyrRlLvsSZAIUEOV";for(let t=0;t<jt.length;t++)_t[jt.charCodeAt(t)]=t+1;const Pt={bODI:"bOjVJ",smVbODI:"smVbOjVJ"},$t={},Wt=(t,e)=>{let n=0,r=0,o=0;for(;r<t.length&&o<e.length&&t[r]==e[o];)n++,r++,o++;return n},Ut=(t,e)=>{let n=0,r=t.length-1,o=e.length-1;for(;r>0&&o>0&&t[r]==e[o];)n++,r--,o--;return n};for(let t in Pt){const e=Pt[t];if(t.indexOf(">")>-1)continue;const n=Wt(e,t);if(n)$t[e]=n?t.slice(0,n)+"<"+t.slice(n):t;else{const n=Ut(e,t);$t[e]=n?t.slice(0,t.length-n)+">"+t.slice(t.length-n):t}}const St={65:"A"},It={},Yt={"a<A=A":"3","a<A=m":"4","a<A=Vv":"5","a<A=d":"6","a-A=r":"7","a<A=t":"9","a-AA=r":"3","a<I=E":"3","a<I=A":"4","a<I=IA":"5","a-I=y":"6","a-I=m":"7","a<E=E":"3","a<E=A":"4","a-E=d":"5","a-E=m":"6","a-E=y":"7","a<E=":"8","a<g=gVg":"3","a<g=NVg":"4","a<p=pVp":"3","a<U=O":"3","a<U=A":"4","a<U=U":"5","a<U=UA":"6","a<O=U":"3","a<Ū=UA":"3","a<Ī=IA":"4","a<Ī=E":"5","a<t=nVt":"4","a<v=bVb":"5","A<AA=":"3","A+U=UA":"3","A+I=IA":"3","A+I=E":"4","A-I=y":"5","A-I=r":"6","A-I=t":"7","A-E=y":"4","A<A=y":"3","A<A=m":"4","A+A=E":"5","A+A=A":"6","A+A=":"7","M>AA=m":"3","M+A=A":"3","M+A=m":"4","M+A=d":"5","M+A=":"6","M+A=nA":"7","M+E=A":"3","M+b=bVb":"3","M+U=UA":"3","M+I=IA":"3","M+I=I":"4","M>I=y":"5","M+I=":"6","M+Ī=A":"3","M+g=NVg":"3","M+p=pVp":"3","M+k=NVk":"3","M+J=jVJ":"3","M+X=WVX":"3","M+y=YVY":"3","I+I=IA":"3","I+I=E":"4","I-I=y":"5","I-I=r":"6","I+A=jVJ":"2","I+A=IA":"3","I+A=A":"4","I+A=Vy":"6","I<A=m":"7","I<A=y":"8","I<A=r":"9","I+A=":"10","I<d=nVd":"3","I+U=UA":"3","I+AA=I":"4","I-AA=r":"5","I<AA=":"6","I>E=Vv":"3","I>E=Vp":"4","I-E=d":"5","I-E=m":"7","I-E=r":"8","I<D=nVD":"3","I>t=IA":"3","I>k=IA":"3","Ī+A=A":"3","Ī+U=UA":"3","U+A=UA":"3","U+A=Vv":"4","U+A=A":"5","U+A=VvA":"6","U+A=O":"7","U+A=":"8","U+I=U":"3","U+I=O":"4","U+I=UA":"5","U+U=UA":"3","U-U=h":"4","U>E=Vv":"3","U-E=d":"4","U-E=r":"5","U>AA=Vv":"3","U<v=bVb":"3","U<D=nVD":"3","U>t=UA":"3","U<t=tVt":"4","U<tA=tVt":"4","U>t=UA":"3","E+A=A":"3","E+A=Vy":"4","E+A=VyA":"5","E>AA=Vy":"5","E+A=":"6","E+U=UA":"3","E-I=r":"3","O+A=":"3","O+A=Vv":"4","O+A=A":"5","O+A=VvA":"6","O>I=Vv":"3","O-I=r":"4","O>E=Vv":"3","O-E=y":"4","O-E=v":"5","O>AA=Vv":"3","O-U=v":"3","V+A=":"3","V+A=A":"4","V+U=UA":"3","V+v=":"4","M+v=m":"4","a<s=r":"9"},Ct=/([<>\-+])/,Et={};(()=>{for(let t in Yt){const e=Yt[t];Et[e]||(Et[e]={});const n=t.indexOf("="),r=t.slice(n+1),[o,i,s]=t.slice(0,n).split(Ct),a=o+"|"+s;Et[e][a]&&console.log("key ",a,"exists"),Et[e][a]=i+r}for(let t in St)It[St[t]]=t})();const Nt=t=>{const e={};for(let n in t)e[t[n]]=n;return e};Nt({"क":"k","ख":"K","ग":"g","घ":"G","ङ":"NG","ह":"h","च":"c","छ":"C","ज":"j","झ":"J","ञ":"Y","य":"y","श":"Z","ट":"W","ठ":"X","ड":"F","ढ":"Q","ण":"N","र":"r","ष":"S","त":"t","थ":"T","द":"d","ध":"D","न":"n","ल":"l","स":"s","प":"p","फ":"P","ब":"b","भ":"B","म":"m","व":"v","ळ":"L","ं":"M","॰":"","अ":"a","इ":"i","उ":"u","ए":"e","ओ":"o","आ":"aA","ई":"iI","ऊ":"uU","ऐ":"ai","औ":"au","ा":"A","ि":"I","ी":"IA","ु":"U","ू":"UA","े":"E","ो":"O","्":"V","०":"0","१":"1","२":"2","३":"3","४":"4","५":"5","६":"6","७":"7","८":"8","९":"9","।":"।","॥":"॥","ौ":"aU","ै":"aI","ऋ":"R","ः":"H"}),Nt({"က":"k","ခ":"K","ဂ":"g","ဃ":"G","င":"NG","ဟ":"h","စ":"c","ဆ":"C","ဇ":"j","ဈ":"J","ဉ":"Y","ယ":"y","श":"Z","ဋ":"W","ဌ":"X","ဍ":"F","ဎ":"Q","ဏ":"N","ရ":"r","ष":"S","တ":"t","ထ":"T","ဒ":"d","ဓ":"D","န":"n","လ":"l","သ":"s","ပ":"p","ဖ":"P","ဗ":"b","ဘ":"B","မ":"m","ဝ":"v","ဠ":"L","ံ":"M","အ":"a","ဣ":"i","ဥ":"u","ဧ":"e","ဩ":"o","အာ":"aA","ဤ":"iI","ဦ":"uU","ာ":"A","ိ":"I","ီ":"II","ု":"U","ူ":"UU","ေ":"E","ော":"O","္":"V","၀":"0","၁":"1","၂":"2","၃":"3","၄":"4","၅":"5","၆":"6","၇":"7","၈":"8","၉":"9"," ်":"","၊":"।","။":"॥"}),Nt({"ก":"k","ข":"K","ค":"g","ฆ":"G","ง":"NG","ห":"h","จ":"c","ฉ":"C","ช":"j","ฌ":"J","ญ":"Y","ย":"y","श":"Z","ฏ":"W","ฐ":"X","ฑ":"F","ฒ":"Q","ณ":"N","ร":"r","ष":"S","ต":"t","ถ":"T","ท":"d","ธ":"D","น":"n","ล":"l","ส":"s","ป":"p","ผ":"P","พ":"b","ภ":"B","ม":"m","ว":"v","ฬ":"L","ํ":"M","อ":"a","อิ":"i","อุ":"u","เอ":"e","โอ":"o","อา":"aA","อี":"iI","อู":"uU","า":"A","ิ":"I","ี":"II","ุ":"U","ู":"UU","เ":"E","โ":"O","ฺ":"V","๐":"0","๑":"1","๒":"2","๓":"3","๔":"4","๕":"5","๖":"6","๗":"7","๘":"8","๙":"9"}),Nt({"ក":"k","ខ":"K","គ":"g","ឃ":"G","ង":"NG","ហ":"h","ច":"c","ឆ":"C","ជ":"j","ឈ":"J","ញ":"Y","យ":"y","श":"Z","ដ":"W","ឋ":"X","ឌ":"F","ឍ":"Q","ណ":"N","រ":"r","ष":"S","ត":"t","ថ":"T","ទ":"d","ធ":"D","ន":"n","ល":"l","ស":"s","ប":"p","ផ":"P","ព":"b","ភ":"B","ម":"m","វ":"v","ឡ":"L","ំ":"M","អ":"a","ឥ":"i","ឧ":"u","ឯ":"e","ឱ":"o","អា":"aA","ឦ":"iI","ឩ":"uU","ា":"A","ិ":"I","ី":"II","ុ":"U","ូ":"UU","េ":"E","ោ":"O","្":"V","០":"0","១":"1","២":"2","៣":"3","៤":"4","៥":"5","៦":"6","៧":"7","៨":"8","៩":"9"}),Nt({"ກ":"k","ຂ":"K","ຄ":"g","ຆ":"G","ງ":"NG","ຫ":"h","ຈ":"c","ຉ":"C","ຊ":"j","ຌ":"J","ຎ":"Y","ຍ":"y","श":"Z","ຏ":"W","ຐ":"X","ຑ":"F","ຒ":"Q","ຓ":"N","ຣ":"r","ष":"S","ຕ":"t","ຖ":"T","ທ":"d","ຘ":"D","ນ":"n","ລ":"l","ສ":"s","ປ":"p","ຜ":"P","ພ":"b","ຠ":"B","ມ":"m","ວ":"v","ຬ":"L","ໍ":"M","ອ":"a","ອິ":"i","ອຸ":"u","ເອ":"e","ໂອ":"o","ອາ":"aA","ອີ":"iI","ອູ":"uU","າ":"A","ິ":"I","ີ":"II","ຸ":"U","ູ":"UU","ເ":"E","ໂ":"O","຺":"V","໐":"0","໑":"1","໒":"2","໓":"3","໔":"4","໕":"5","໖":"6","໗":"7","໘":"8","໙":"9"}),Nt({"ක":"k","ඛ":"K","ග":"g","ඝ":"G","ඞ":"NG","හ":"h","ච":"c","ඡ":"C","ජ":"j","ඣ":"J","ඤ":"Y","ය":"y","श":"Z","ට":"W","ඨ":"X","ඩ":"F","ඪ":"Q","ණ":"N","ර":"r","ष":"S","ත":"t","ථ":"T","ද":"d","ධ":"D","න":"n","ල":"l","ස":"s","ප":"p","ඵ":"P","බ":"b","භ":"B","ම":"m","ව":"v","ළ":"L","ං":"M","අ":"a","ඉ":"i","උ":"u","එ":"e","ඔ":"o","ආ":"aA","ඊ":"iI","ඌ":"uU","ා":"A","ි":"I","ී":"II","ු":"U","ූ":"UU","ෙ":"E","ො":"O","්":"V"}),Nt({"ཀ":"k","ཁ":"K","ག":"g","གྷ":"G","ང":"NG","ཧ":"h","ཙ":"c","ཚ":"C","ཛ":"j","ཛྷ":"J","ཉ":"Y","ཡ":"y","श":"Z","ཊ":"W","ཋ":"X","ཌ":"F","ཌྷ":"Q","ཎ":"N","ར":"r","ष":"S","ཏ":"t","ཐ":"T","ད":"d","དྷ":"D","ན":"n","ལ":"l","ས":"s","པ":"p","ཕ":"P","བ":"b","བྷ":"B","མ":"m","ཝ":"v","ལ༹":"L","ཾ":"M","ཨ":"a","ཨི":"i","ཨུ":"u","ཨེ":"e","ཨོ":"o","ཨཱ":"aA","ཨཱི":"iI","ཨཱུ":"uU","ཱ":"A","ི":"I","ཱི":"II","ུ":"U","ཱུ":"UU","ེ":"E","ོ":"O","྄":"V","༠":"0","༡":"1","༢":"2","༣":"3","༤":"4","༥":"5","༦":"6","༧":"7","༨":"8","༩":"9","ྐ":"Vk","ྑ":"VK","ྒ":"Vg","ྒྷ":"VG","ྔ":"VN","ྕྖྗ":"Vc","ྖ":"VC","ྗ":"Vj","ྙ":"VY","ྚ":"tVt","ྛ":"tVT","ྜ":"dVd","ྜྷ":"dVD","ྞ":"nVN","ྟ":"Vt","ྠ":"VT","ྡ":"Vd","ྡྷ":"VD","ྣ":"Vn","ྤ":"Vp","ྥ":"VP","ྦ":"Vb","ྦྷ":"VB","ྨ":"Vm","།":"।","༎":"॥"});const Tt=t=>{if(!t)return"";const e=t.split(""),n=[];for(let t=0;t<e.length;t++){const r=e[t],o=[],i=Z(r[0]);if(i>10){const t=Z(r[0])-10,e=Lt(r.slice(1,t+1)),[n,i,s,a,h,c,u,l]=q(r.slice(t+1)).map(Ot);o.push("99"),o.push(h||"0",c||"0",n||"0",i||"0",s||"0",a||"0",e),o.push("0",u||"0",l||"0")}else{const t=i[0],e=Array.from(q(r.slice(1)).map(Ot));o.push(t,...e)}n.push(o.join(":"))}return n.join("$")},Ot=t=>t>4e3?4e3-t:t-=10,Lt=t=>{const e=t.codePointAt(0);let n="";if(!(e>255))return t;{const r=et(t);n="u"+e.toString(16),r.length>1&&(n+=("@"!==r[1]?"-":"")+t.slice(r[0].length))}return n};let Kt="undefined"!=typeof window&&window.BMP,Bt="undefined"!=typeof window&&window.CJKBMP,Dt="undefined"!=typeof window&&window.CJKEXT,Gt="undefined"!=typeof window&&window.GWCOMP;const zt=t=>("number"==typeof t?t=ie(t):t.codePointAt(0)>8192&&(t="u"+t.codePointAt(0).toString(16)),t.replace(/@\d+$/,"")),Rt=(t,e=Kt)=>{const n=zt(t),r=st(e,n+"=",!0);let o="";if(r>=0&&e[r].slice(0,n.length+1)==n+"="){const t=e[r].indexOf("=");o=e[r].slice(t+1)}return o};let Ft=t=>{if(!t||"string"==typeof t&&t.codePointAt(0)>255&&nt(t)>1)return"";const e=zt(t),n=e.match(/^u([\da-f]{4,5})$/);if(n){const t=parseInt(n[1],16);if(t>=131072){const e=Dt[t-131072];return Tt(e)}if(t>=13312&&t<40959){const e=Bt[t-13312];return Tt(e)}}const r=Rt(e,Gt);return Tt(r)};const Xt=t=>{" "!==t[0]&&(t=" "+t),~t.indexOf("@")&&(t=t.replace(/@\d+$/,""));const e=st(Kt,t,!0);return e<1||Kt[e].slice(0,t.length+1)!==t+" "?"":Kt[e].slice(84)},Jt=t=>t.split("$").filter((t=>"0:0:0:0"!==t)).map((t=>t.split(":"))),Qt=(t,e=!1)=>{const n=Ft(t);return Zt(n,e).filter((e=>e!==t))},Ht=(t,e)=>{const n=Jt(t);let r=[];if(1==n.length&&"99"===n[0][0]){const t=n[0][7];return Ht(Ft(t),t)}for(let t=0;t<n.length;t++)"99"===n[t][0]&&r.push(n[t][7]);return e?r:r.map(se).join("")},Zt=(t,e=!1)=>{const n={};te(t,n);const r=Object.keys(n);return e?r:r.map(se)};let qt=0;const te=(t,e,n=!1)=>{const r=t.split("$");if(qt++,qt>10)console.log("too deep fetching",t);else{for(let t=0;t<r.length;t++)if("99:"==r[t].slice(0,3)){let o=r[t].slice(r[t].lastIndexOf(":")+1);parseInt(o).toString()==o&&(o=r[t].split(":")[7].replace(/@\d+$/,""));const i=Ft(o);i?(n?(e[o]||(e[o]=0),e[o]++):e[o]||(e[o]=Ft(o)),te(i,e,n)):console.log("glyph not found",o)}qt--}};let ee=null;const ne=(t,e)=>{if(ee||re(),"number"==typeof t)return ee[ie(t)]||[];if(t.charCodeAt(0)>8192){const n="u"+t.charCodeAt(0).toString(16),r=[];for(let t in ee)if(t.startsWith(n)&&r.push(...ee[t]||[]),e&&r.length>e)break;return e?r.slice(0,e):r}return ee[t]||[]},re=()=>{ee||(ee={}),console.time("buildDerivedIndex"),(t=>{if(Bt){for(let e=0;e<Bt.length;e++)t("u"+(e+13312).toString(16),Tt(Bt[e]));for(let e=0;e<Dt.length;e++)t("u"+(e+131072).toString(16),Tt(Dt[e]))}else for(let e=0;e<Kt.length;e++)if(Ft==Xt)t(Kt[e].slice(0,72).trim(),Kt[e].slice(84));else{const n=Kt[e].indexOf("=");t(Kt[e].slice(0,n),Kt[e].slice(n+1))}})(((t,e)=>{const n=Jt(e);for(let e=0;e<n.length;e++){if("99"!==n[e][0])continue;const r=n[e][7];ee[r]||(ee[r]=[]),ee[r].push(t)}})),console.timeEnd("buildDerivedIndex")},oe=(t,e)=>{const n=t.split("$");let r=[],o="";for(let t=0;t<n.length;t++)if("99:"===n[t].slice(0,3)){const[e,i,s,a,h,c,u,l]=n[t].split(":");r.push([a,h,c,u]),o=l}return e||1!=r.length||(r=oe(Ft(o))),r},ie=t=>"u"+("number"==typeof t?t:t.codePointAt(0)||" ").toString(16),se=t=>{if("u"!==t[0])return" ";let e=parseInt(t.slice(1),16);return(e<32||isNaN(e))&&(e=32),String.fromCodePoint(e)},ae={},he=(t,e)=>{ae[t]=e};he("宋体",{kMinWidthY:2,kMinWidthU:2,kMinWidthT:4.5,kWidth:5}),he("细宋体",{kMinWidthY:2,kMinWidthU:1,kMinWidthT:3,kWidth:5}),he("中宋体",{kMinWidthY:2,kMinWidthU:2,kMinWidthT:6,kWidth:5}),he("粗宋体",{kMinWidthY:2.5,kMinWidthU:2,kMinWidthT:7,kWidth:5}),he("特宋体",{kMinWidthY:3,kMinWidthU:2,kMinWidthT:8,kWidth:5}),he("黑体",{hei:!0,kWidth:2}),he("细黑体",{hei:!0,kWidth:1}),he("中黑体",{hei:!0,kWidth:3}),he("粗黑体",{hei:!0,kWidth:5}),he("特黑体",{hei:!0,kWidth:7});const ce={"㴞":"滔","乂":"㐅","乙":"⺄","任":"仼","俞":"兪","兌":"兑","內":"内","兪":"俞","冂":"⺆","別":"别","劵":"券","匀":"勻","卽":"即","吳":"吴","吴":"吳","吿":"告","夂":"夊","寶":"寳","尙":"尚","尚":"𫩠","屛":"屏","巟":"𡿫","巿":"市","强":"強","彔":"录","彥":"彦","慈":"慈","戱":"戯","戶":"户","户":"戶","戾":"戻","手":"龵","抛":"拋","敎":"教","日":"曰","曁":"暨","月":"⺼","朏":"胐","木":"朩","朮":"术","査":"查","步":"歩","殼":"殻","毁":"毀","每":"毎","淸":"清","熏":"𤋱","爲":"為","牜":"牛","產":"産","甯":"𪧟","畚":"𡘞","疉":"𤴁","眔":"𥄳","真":"真","示":"礻","祿":"䘵","禿":"秃","穎":"㯋","算":"𮅕","糸":"糹","絶":"絕","纖":"纎","罓":"冈","羊":"𦍌","翆":"翠","臼":"𦥑","艹":"艹","蒙":"𫎇","薰":"薫","虛:":"虚","虽":"𧈧","蚩":"革","衞":"衛","訁":"言","豕":"豖","辶":"辶","逬":"迸","邉":"𫟪","鄕":"郷","釒":"金","钅":"金","靑":"青","顏":"顔","飮":"飲","髮":"髪","黃":"黄","黑":"黒","黽":"𪓑","龺":"𠦝","龻":"䜌","𠆢":"人","𠔉":"龹","𠘨":"几","𠤎":"匕","𡈼":"壬","𡭔":"小","𢼸":"𣁋","𢾾":"敷","𣗥":"棘","𣡸":"欝","𤛉":"舝","𤣩":"王","𥁕":"昷","𥟖":"𥠖","𦓤":"耒","𧶠":"賣","𩙿":"飠","𩵋":"魚","𫉬":"獲","𫜸":"叱","𬜯":"䓣","𬼆":"爻","𠄢":"𠄢","勺":"勺","巽":"巽","憲":"憲","朗":"朗","爨":"爨","𰆊":"卩","契":"契","郎":"郎","虜":"虜","寧":"寧","便":"便","數":"數","殺":"殺","麗":"麗","連":"連","廉":"廉","遼":"遼","類":"類","隆":"隆","猪":"猪","益":"益","礼":"礼","神":"神","祥":"祥","靖":"靖","精":"精","羽":"羽","諸":"諸","都":"都","勉":"勉","勤":"勤","卑":"卑","器":"器","墨":"墨","層":"層","憎":"憎","敏":"敏","既":"既","暑":"暑","梅":"梅","海":"海","渚":"渚","漢":"漢","煮":"煮","碑":"碑","社":"社","祐":"祐","祖":"祖","祝":"祝","穀":"穀","節":"節","繁":"繁","署":"署","者":"者","臭":"臭","艹":"艹","艹":"艹","著":"著","謹":"謹","賓":"賓","辶":"辶","逸":"逸","難":"難","頻":"頻","勇":"勇"},ue={};for(let t in ce)ue[t.codePointAt(0)]=ce[t].codePointAt(0);const le={},fe=(t,e)=>{le[t]=e};fe("ⓡ",(t=>{const[e,n,r]=t,o=Ht(Ft(e),!0),i=Ht(Ft(r),!0);if(o.length!==i.length)return["",""];for(let t=0;t<o.length;t++){if(se(o[t])!==se(i[t]))return[o[t],i[t]]}return["",""]})),fe("ⓒ",(t=>{let e="";return e='<text x="170" y="30" style="font-size:16pt ;fill:brown">'+String.fromCodePoint(t[2])+"</text>",["","",e]})),fe("ⓟ",(t=>{let e="";return e='<text x="175" y="180" font-size=64px fill=red>'+String.fromCodePoint(t[2])+"</text>",["","",e]}));const pe=[];function ge(e,n=t){let r;const o=new Set;function s(t){if(i(e,t)&&(e=t,r)){const t=!pe.length;for(const t of o)t[1](),pe.push(t,e);if(t){for(let t=0;t<pe.length;t+=2)pe[t][0](pe[t+1]);pe.length=0}}}return{set:s,update:function(t){s(t(e))},subscribe:function(i,a=t){const h=[i,a];return o.add(h),1===o.size&&(r=n(s)||t),i(e),()=>{o.delete(h),0===o.size&&(r(),r=null)}}}}let de,ye=ge((localStorage.getItem("hzpx-favorites")||"初衤礻$颰犮电$峰夆電雨水$冧林新$开腦囟同$寶缶充$衚胡舞$䳘鳥烏戰口火$痛甬炱台肝$髜昇厏乍电$超召狸里美$国玉囡女书").split("$")),ke=ge(et(localStorage.getItem("hzpx-bases")||"㫖仲凒勲匔匰厤吾哪圞埲奛奨娟嬰孲寵屘屢岱峉嶁幥廚彅彨循怠懚戓戭掉敟旟显晔晷暰朥梑歡殣毜毷氇氳泉泴泵沙泊濈炱煴爺牆牕犋犧犧犨狊狸珃瑽璹瓪甂畠畧畩疾皒皸盪睯瞃矞矠矪砠硰磱禧種窟竬竽筯籼粜粪糣緈縆罣羫翇翞翿聘聳聾肿膐艚艚蚦蜰蟧袂袵裂裔觶觺訣諬譵貔賌贎贜趘躎躰軇軸輙達適邁邷鄲酾醒鈝銴鑚钂钰铏闡陚雝霓靟鞃韟韷顢颪飅餥餬馽驕驚骽體髜鬚鬫鬸鬻鮤鯨鵟鷣鸔麜麣黖黸鼊齉齷齾"));const ve={},me=()=>{for(let t in ve)localStorage.setItem(t,ve[t]),delete ve[t];clearTimeout(de),console.log("settings autosaved on",new Date)},xe=t=>{clearTimeout(de);for(let e in t)ve["hzpx-"+e]=t[e];de=setTimeout(me,5e3)};ke.subscribe((t=>xe({bases:t.join("")}))),ye.subscribe((t=>xe({favorites:t.join("$")})));const Me=(t,e)=>{if(!e||!e.length||!t)return"";if(!Array.isArray(e))return Ae(t,e);for(let n of e){const e=Ae(t,n);if(e)return e}},Ae=(t,e)=>{if(t==e)return"";const n=Ht(Ft(t),!0),r=Ht(gettGlyph(e)).map((t=>ue[t]||t)),o=((t,e)=>{const n=[];let r=0;for(let o=0;o<t.length;o++){let i=t[o];for(;r<e.length&&!(e[r]>=i);)r++;if(i==e[r]&&n[n.length-1]!==i&&n.push(i),r==e.length)break}return n})(n,r),i=r.filter((t=>-1==o.indexOf(t))),s=n.filter((t=>-1==o.indexOf(t)));return 1===i.length&&1===s.length?e+String.fromCodePoint(i)+String.fromCodePoint(s):""},be=(t,e)=>{const n=[],r=et(t);let o=0,i=0,s="";for(;o<r.length;){i&&i--;if(~Qt(r[o]).indexOf(r[o+1])||le[r[o+1]])s+=r[o]+r[o+1],i++,o++;else if(i)s+=r[o];else if(s)n.push(s+r[o]),s="";else{let t=r[o];e&&!Ft(t)&&(t=Me(t)||t),n.push(t)}o++}return s&&n.push(s),n};const we=function(){var t=function(){function t(){this.hash={}}return t.prototype.set=function(t,e){this.hash[t]=e},t.prototype.search=function(t){return this.hash[t]?this.hash[t]:""},t.prototype.push=function(t,e){this.set(t,e)},t}(),e=function(){function t(){this.array=[]}return t.prototype.clear=function(){this.array=[]},t.prototype.push=function(t){var e=200,n=0,r=200,o=0;if(!(t.length<3)){t.floor();for(var i=0,s=t.array;i<s.length;i++){var a=s[i],h=a.x,c=a.y;if(h<e&&(e=h),h>n&&(n=h),c<r&&(r=c),c>o&&(o=c),isNaN(h)||isNaN(c))return}e!==n&&r!==o&&this.array.push(t)}},t.prototype.generateSVG=function(t){var e='<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" baseProfile="full" viewBox="0 0 200 200" width="200" height="200">\n';if(t)for(var n=0,r=this.array;n<r.length;n++){var o=r[n].array,i="L";e+='<path d="';for(var s=0;s<o.length;s++)0===s?e+="M ":o[s].off?(e+="Q ",i="Q"):"Q"!==i||o[s-1].off?"L"===i&&1===s&&(e+="L "):e+="L ",e+="".concat(o[s].x,",").concat(o[s].y," ");e+='Z" fill="black" />\n'}else e+='<g fill="black">\n',e+=this.array.map((function(t){var e=t.array;return'<polygon points="'.concat(e.map((function(t){var e=t.x,n=t.y;return"".concat(e,",").concat(n," ")})).join(""),'" />\n')})).join(""),e+="</g>\n";return e+="</svg>\n"},t.prototype.generateEPS=function(){var t="";t+="%!PS-Adobe-3.0 EPSF-3.0\n%%BoundingBox: 0 -208 1024 816\n%%Pages: 0\n%%Title: Kanji glyph\n%%Creator: GlyphWiki powered by KAGE system\n%%CreationDate: ".concat((new Date).toString(),"\n%%EndComments\n%%EndProlog\n");for(var e=0,n=this.array;e<n.length;e++){for(var r=n[e].array,o=0;o<r.length;o++)t+="".concat(5*r[o].x," ").concat(1e3-5*r[o].y-200," "),t+=0===o?"newpath\nmoveto\n":"lineto\n";t+="closepath\nfill\n"}return t+="%%EOF\n"},t}();"undefined"!=typeof Symbol&&Symbol.iterator&&(e.prototype[Symbol.iterator]=function(){return this.array[Symbol.iterator]()});var n=Math.hypot?Math.hypot.bind(Math):function(t,e){return Math.sqrt(t*t+e*e)};function r(t,e){var r=t[0],o=t[1];if(void 0===e&&(e=1),0===r&&0===o)return[1/r==1/0?e:-e,0];var i=e/n(r,o);return[r*i,o*i]}function o(t,e,n,r){var o=1-r;return o*o*t+o*r*2*e+r*r*n}function i(t,e,n,r){return 2*(r*(t-2*e+n)-t+e)}function s(t,e,n,r,o){var i=1-o;return i*i*i*t+i*i*o*3*e+i*o*o*3*n+o*o*o*r}function a(t,e,n,r,o){return 3*(o*(o*(3*e-t-3*n+r)+2*(t-2*e+n))-t+e)}function h(t,e,n,r){for(void 0===r&&(r=1e-5);e+r<n;){var o=e+(n-e)/3,i=n-(n-e)/3;t(o)<t(i)?n=i:e=o}return e+(n-e)/2}function c(t,e){return void 0===e&&(e=1e8),Math.round(t*e)/e}function u(t,e,n,r){return t*r-n*e}function l(t,e,n,r,o,i,s,a){var h=u(n-t,r-e,s-o,a-i);if(isNaN(h))return!0;if(0===h)return!1;var l=u(n-t,r-e,o-t,i-e),f=u(n-t,r-e,s-t,a-e),p=u(s-o,a-i,t-o,e-i),g=u(s-o,a-i,n-o,r-i);return c(l*f,1e5)<=0&&c(p*g,1e5)<=0}function f(t,e,n,r,o){var i,s,a,h;return n<e+100?(i=r,a=r,s=e+100,h=t+100):(i=e+100,a=t+100,s=o,h=o),Math.floor((n-i)/(s-i)*(h-a)+a)}var p,g=function(){function t(t){this.a1_100=t[0],this.a2_100=t[1],this.a3_100=t[2],this.x1=t[3],this.y1=t[4],this.x2=t[5],this.y2=t[6],this.x3=t[7],this.y3=t[8],this.x4=t[9],this.y4=t[10],this.a1_opt=Math.floor(this.a1_100/100),this.a1_100%=100,this.a2_opt=Math.floor(this.a2_100/100),this.a2_100%=100,this.a2_opt_1=this.a2_opt%10,this.a2_opt_2=Math.floor(this.a2_opt/10)%10,this.a2_opt_3=Math.floor(this.a2_opt/100),this.a3_opt=Math.floor(this.a3_100/100),this.a3_100%=100,this.a3_opt_1=this.a3_opt%10,this.a3_opt_2=Math.floor(this.a3_opt/10)}return t.prototype.getControlSegments=function(){var t=[];switch(0===this.a1_opt?this.a1_100:1){case 0:case 8:case 9:break;case 6:case 7:t.unshift([this.x3,this.y3,this.x4,this.y4]);case 2:case 12:case 3:case 4:t.unshift([this.x2,this.y2,this.x3,this.y3]);default:t.unshift([this.x1,this.y1,this.x2,this.y2])}return t},t.prototype.isCross=function(t,e,n,r){return this.getControlSegments().some((function(o){return l(o[0],o[1],o[2],o[3],t,e,n,r)}))},t.prototype.isCrossBox=function(t,e,n,r){return this.getControlSegments().some((function(o){return function(t,e,n,r,o,i,s,a){return!!(l(t,e,n,r,o,i,s,i)||l(t,e,n,r,s,i,s,a)||l(t,e,n,r,o,a,s,a)||l(t,e,n,r,o,i,o,a))}(o[0],o[1],o[2],o[3],t,e,n,r)}))},t.prototype.stretch=function(t,e,n,r,o,i,s,a){this.x1=f(t,e,this.x1,o,i),this.y1=f(n,r,this.y1,s,a),this.x2=f(t,e,this.x2,o,i),this.y2=f(n,r,this.y2,s,a),99===this.a1_100&&0===this.a1_opt||(this.x3=f(t,e,this.x3,o,i),this.y3=f(n,r,this.y3,s,a),this.x4=f(t,e,this.x4,o,i),this.y4=f(n,r,this.y4,s,a))},t.prototype.getBox=function(){var t=1/0,e=1/0,n=-1/0,r=-1/0;switch(0===this.a1_opt?this.a1_100:6){default:t=Math.min(t,this.x4),n=Math.max(n,this.x4),e=Math.min(e,this.y4),r=Math.max(r,this.y4);case 2:case 3:case 4:t=Math.min(t,this.x3),n=Math.max(n,this.x3),e=Math.min(e,this.y3),r=Math.max(r,this.y3);case 1:case 99:t=Math.min(t,this.x1,this.x2),n=Math.max(n,this.x1,this.x2),e=Math.min(e,this.y1,this.y2),r=Math.max(r,this.y1,this.y2);case 0:}return{minX:t,maxX:n,minY:e,maxY:r}},t}();function d(t,e,n,r,o,i,s){var a=Math.floor(.5*s.length),h=a/s.length,c=t+(n-t)*h,u=e+(r-e)*h,l=n+(o-n)*h,f=r+(i-r)*h,p=c+(l-c)*h,g=u+(f-u)*h;return{index:a,off:[[t,e,c,u,p,g],[p,g,l,f,o,i]]}}function y(t,e,n){var r=t[0],i=r[0],s=r[1],a=t[t.length-1],c=a[0],u=a[1],l=h((function(e){return t.reduce((function(n,r,s){var a=s/(t.length-1),h=o(i,e,c,a);return n+Math.pow(r[0]-h,2)}),0)}),e-8,e+8),f=h((function(e){return t.reduce((function(n,r,i){var a=i/(t.length-1),h=o(s,e,u,a);return n+Math.pow(r[1]-h,2)}),0)}),n-8,n+8);return[i,s,l,f,c,u]}function k(t,e,n,h,c,u,l,f,p,g,d){void 0===d&&(d=r);var y,k,v,m,x={left:[],right:[]};n===c&&h===u?(y=function(e){return o(t,n,l,e)},k=function(t){return o(e,h,f,t)},v=function(e){return i(t,n,l,e)},m=function(t){return i(e,h,f,t)}):(y=function(e){return s(t,n,c,l,e)},k=function(t){return s(e,h,u,f,t)},v=function(e){return a(t,n,c,l,e)},m=function(t){return a(e,h,u,f,t)});for(var M=0;M<=1e3;M+=p){var A=M/1e3,b=y(A),w=k(A),V=v(A),_=d([-m(A),V],g(A)),j=_[0],P=_[1];x.left.push([b-j,w-P]),x.right.push([b+j,w+P])}return x}!function(t){t[t.kMincho=0]="kMincho",t[t.kGothic=1]="kGothic"}(p||(p={}));var v=function(){function t(t){if(this._precision=10,this._array=[],t)if("number"==typeof t)for(var e=0;e<t;e++)this.push(0,0,!1);else for(var n=0,r=t;n<r.length;n++){var o=r[n],i=o.x,s=o.y,a=o.off;this.push(i,s,a)}}return Object.defineProperty(t.prototype,"array",{get:function(){var t=this;return this._array.map((function(e,n){return t.get(n)}))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"length",{get:function(){return this._array.length},enumerable:!1,configurable:!0}),t.prototype.push=function(t,e,n){void 0===n&&(n=!1),this._array.push(this.createInternalPoint(t,e,n))},t.prototype.pushPoint=function(t){this.push(t.x,t.y,t.off)},t.prototype.set=function(t,e,n,r){void 0===r&&(r=!1),this._array[t]=this.createInternalPoint(e,n,r)},t.prototype.setPoint=function(t,e){this.set(t,e.x,e.y,e.off)},t.prototype.get=function(t){var e=this._array[t],n=e.x,r=e.y,o=e.off;return 0===this._precision?{x:n,y:r,off:o}:{x:n/this._precision,y:r/this._precision,off:o}},t.prototype.reverse=function(){this._array.reverse()},t.prototype.concat=function(t){if(this._precision!==t._precision)throw new TypeError("Cannot concat polygon's with different precisions");this._array=this._array.concat(t._array)},t.prototype.shift=function(){this._array.shift()},t.prototype.unshift=function(t,e,n){void 0===n&&(n=!1),this._array.unshift(this.createInternalPoint(t,e,n))},t.prototype.clone=function(){return new t(this.array)},t.prototype.createInternalPoint=function(t,e,n){return void 0===n&&(n=!1),0===this._precision?{x:t,y:e,off:n}:{x:t*this._precision,y:e*this._precision,off:n}},t.prototype.translate=function(t,e){0!==this._precision&&(t*=this._precision,e*=this._precision);for(var n=0,r=this._array;n<r.length;n++){var o=r[n];o.x+=t,o.y+=e}return this},t.prototype.reflectX=function(){for(var t=0,e=this._array;t<e.length;t++){e[t].x*=-1}return this},t.prototype.reflectY=function(){for(var t=0,e=this._array;t<e.length;t++){e[t].y*=-1}return this},t.prototype.rotate90=function(){for(var t=0,e=this._array;t<e.length;t++){var n=e[t],r=n.x,o=n.y;n.x=-o,n.y=r}return this},t.prototype.rotate180=function(){for(var t=0,e=this._array;t<e.length;t++){var n=e[t];n.x*=-1,n.y*=-1}return this},t.prototype.rotate270=function(){for(var t=0,e=this._array;t<e.length;t++){var n=e[t],r=n.x,o=n.y;n.x=o,n.y=-r}return this},t.prototype.floor=function(){if(0===this._precision)return this;for(var t=0,e=this._array;t<e.length;t++){var n=e[t],r=n.x,o=n.y;n.x=Math.floor(r),n.y=Math.floor(o)}return this},t}();"undefined"!=typeof Symbol&&Symbol.iterator&&(v.prototype[Symbol.iterator]=function(){var t=this,e=0;return{next:function(){return e<t._array.length?{done:!1,value:t.get(e++)}:{done:!0,value:void 0}}}});var m=function(){function t(t,e){this.cos_theta=1,this.sin_theta=0,this.x=t,this.y=e}return t.prototype.setMatrix2=function(t,e){return this.cos_theta=t,this.sin_theta=e,this},t.prototype.setLeft=function(t,e){var n=r([t-this.x,e-this.y]),o=n[0],i=n[1];return this.setMatrix2(-o,-i),this},t.prototype.setRight=function(t,e){var n=r([t-this.x,e-this.y]),o=n[0],i=n[1];return this.setMatrix2(o,i),this},t.prototype.setUp=function(t,e){var n=r([t-this.x,e-this.y]),o=n[0],i=n[1];return this.setMatrix2(-i,o),this},t.prototype.setDown=function(t,e){var n=r([t-this.x,e-this.y]),o=n[0],i=n[1];return this.setMatrix2(i,-o),this},t.prototype.move=function(t,e){var n;return n=this.getPoint(t,e),this.x=n.x,this.y=n.y,this},t.prototype.getPoint=function(t,e,n){return{x:this.x+this.cos_theta*t+-this.sin_theta*e,y:this.y+this.sin_theta*t+this.cos_theta*e,off:n}},t.prototype.getPolygon=function(t){var e=this;return new v(t.map((function(t){var n=t.x,r=t.y,o=t.off;return e.getPoint(n,r,o)})))},t}();function x(t,e,o,i,s,a,h,u,l,f,p,g,x,M,A,b){var w,V=p,_=g,j=t.kMinWidthT-x/2;switch(V%100){case 0:case 7:case 27:w=-1*t.kMinWidthY*.5;break;case 1:case 2:case 6:case 22:case 32:w=0;break;case 12:w=t.kMinWidthY;break;default:return}if(0!==w){var P=o===s&&i===a?[0,w]:r([o-s,i-a],w);o+=P[0],i+=P[1]}var $,W=0;if((22===V||27===V)&&7===_&&j>6){var U=n(s-o,a-i)+n(h-s,u-a)+n(l-h,f-u);U<100&&(o+=W=(100-U)/100*(j-6))}switch(_%100){case 0:case 1:case 7:case 9:case 15:case 14:case 17:case 5:$=0;break;case 8:$=-1*j*.5;break;default:$=w}if(0!==$){var S=h===l&&u===f?[0,-$]:r([l-h,f-u],$);l+=S[0],f+=S[1]}var I=s===h&&a===u;if(I&&t.kUseCurve){var Y=7===V&&0===_?function(t){return 1.1*Math.pow(t,.5)}:7===V?function(t){return Math.pow(t,.5)}:7===_?function(t){return Math.pow(1-t,.5)}:A>0?function(t){return 1-A/2/(j-b/2)+A/2/(j-b)*t}:function(){return 1},C=k(o,i,s,a,s,a,l,f,10,(function(t){var e=Y(t);return e<.15&&(e=.15),j*e}),(function(t,e){var n=t[0],o=t[1];return 0===o?[-e,0]:r([n,o],e)})),E=C.left,N=C.right,T=d(o,i,s,a,l,f,E),O=T.off,L=O[0],K=O[1],B=T.index,D=E.slice(0,B+1),G=E.slice(B),z=d(o,i,s,a,l,f,N),R=z.off,F=R[0],X=R[1],J=z.index,Q=y(D,L[2],L[3]),H=y(G,K[2],K[3]),Z=new v([{x:Q[0],y:Q[1]},{x:Q[2],y:Q[3],off:!0},{x:Q[4],y:Q[5]},{x:H[2],y:H[3],off:!0},{x:H[4],y:H[5]}]);(ot=new v([{x:N[0][0],y:N[0][1]},{x:F[2]-(Q[2]-L[2]),y:F[3]-(Q[3]-L[3]),off:!0},{x:N[J][0],y:N[J][1]},{x:X[2]-(H[2]-K[2]),y:X[3]-(H[3]-K[3]),off:!0},{x:N[N.length-1][0],y:N[N.length-1][1]}])).reverse(),Z.concat(ot),e.push(Z)}else{var q=.5;n(l-o,f-i)<50&&(q+=.4*(1-n(l-o,f-i)/50));for(var tt=7!==V&&27!==V||0!==_?7===V||27===V?I?function(t){return Math.pow(t,q)}:function(t){return Math.pow(Math.pow(t,q),.7)}:7===_?function(t){return Math.pow(1-t,q)}:I&&(A>0||b>0)?function(e){return(t.kMinWidthT-A/2-(b-A)/2*e)/t.kMinWidthT}:function(){return 1}:function(e){return Math.pow(e,q)*t.kL2RDfatten},et=k(o,i,s,a,h,u,l,f,t.kRate,(function(t){var e=tt(t);return e<.15&&(e=.15),j*e}),(function(t,e){var n=t[0],o=t[1];return 0===c(n)&&0===c(o)?[-e,0]:r([n,o],e)})),nt=et.left,rt=et.right,ot=(Z=new v,new v),it=0,st=nt;it<st.length;it++){var at=st[it],ht=at[0],ct=at[1];Z.push(ht,ct)}for(var ut=0,lt=rt;ut<lt.length;ut++){var ft=lt[ut];ht=ft[0],ct=ft[1];ot.push(ht,ct)}if(132===V||22===V&&(I?i>f:o>s)){Z.floor(),ot.floor();for(var pt=0,gt=ot.length;pt+1<gt;pt++){var dt=ot.get(pt),yt=ot.get(pt+1);if(dt.y<=i&&i<=yt.y){for(var kt=yt.x+(dt.x-yt.x)*(i-yt.y)/(dt.y-yt.y),vt=i,mt=Z.get(0),xt=Z.get(1),Mt=132===V?mt.x+(xt.x-mt.x)*(i-mt.y)/(xt.y-mt.y):mt.x+(xt.x-mt.x+1)*(i-mt.y)/(xt.y-mt.y),At=132===V?i:i+1,bt=0;bt<pt;bt++)ot.shift();ot.set(0,kt,vt),Z.unshift(Mt,At);break}}}ot.reverse(),Z.concat(ot),e.push(Z)}switch(V){case 12:var wt=new m(o,i);o!==s&&wt.setDown(s,a);Z=wt.getPolygon([{x:-j,y:0},{x:+j,y:0},{x:-j,y:-j}]);e.push(Z);break;case 0:if(i<=f){wt=new m(o,i);o!==s&&wt.setDown(s,a);var Vt=Math.atan2(Math.abs(i-a),Math.abs(o-s))/Math.PI*2-.4,_t=(Vt*=Vt>0?2:16)<0?-1:1;Z=wt.getPolygon([{x:-j,y:1},{x:+j,y:0},{x:-_t*j,y:-t.kMinWidthY*Math.abs(Vt)}]);e.push(Z);var jt=Vt<0?-Vt*t.kMinWidthY:0;ot=wt.getPolygon(o===s&&i===a?[{x:j,y:-jt},{x:1.5*j,y:t.kMinWidthY-jt},{x:j-2,y:2*t.kMinWidthY+1}]:[{x:j,y:-jt},{x:1.5*j,y:t.kMinWidthY-1.2*jt},{x:j-2,y:2*t.kMinWidthY-.8*jt+1}]);e.push(ot)}else{wt=new m(o,i);o===s?wt.setMatrix2(0,1):wt.setRight(s,a);Z=wt.getPolygon([{x:0,y:+j},{x:0,y:-j},{x:-t.kMinWidthY,y:-j}]);e.push(Z);ot=wt.getPolygon([{x:0,y:+j},{x:+t.kMinWidthY,y:1.5*+j},{x:3*+t.kMinWidthY,y:.5*+j}]);e.push(ot)}break;case 22:case 27:Z=new m(o-W,i).getPolygon([{x:-j,y:-t.kMinWidthY},{x:0,y:-t.kMinWidthY-t.kWidth},{x:+j+t.kWidth,y:+t.kMinWidthY},{x:+j,y:+j-1}].concat(27===V?[{x:0,y:+j+2},{x:0,y:0}]:[{x:-j,y:+j+4}]));e.push(Z)}switch(_){case 1:case 8:case 15:var Pt=t.kMinWidthT-b/2,$t=new m(l,f);h===l?$t.setMatrix2(0,1):u!==f&&$t.setLeft(h,u);Z=$t.getPolygon(t.kUseCurve?[{x:0,y:-Pt},{x:.9*+Pt,y:.9*-Pt,off:!0},{x:+Pt,y:0},{x:.9*+Pt,y:.9*+Pt,off:!0},{x:0,y:+Pt}]:[{x:0,y:-Pt},{x:.7*+Pt,y:.7*-Pt},{x:+Pt,y:0},{x:.7*+Pt,y:.7*+Pt},{x:0,y:+Pt}]);if(h===l&&Z.reverse(),e.push(Z),15===_){var Wt=new m(l,f);i>=f&&Wt.setMatrix2(-1,0);var Ut=Wt.getPolygon([{x:0,y:1-j},{x:2,y:-j-5*t.kWidth},{x:0,y:-j-5*t.kWidth},{x:-j,y:1-j}]);e.push(Ut)}break;case 0:if(7!==V&&27!==V)break;case 9:Vt=Math.atan2(Math.abs(f-u),Math.abs(l-h))/Math.PI*2-.6,_t=(Vt*=Vt>0?8:3)<0?-1:1,$t=new m(l,f);u===f?$t.setMatrix2(1,0):h===l?$t.setMatrix2(0,f>u?-1:1):$t.setLeft(h,u);Z=$t.getPolygon([{x:0,y:+j*t.kL2RDfatten},{x:0,y:-j*t.kL2RDfatten},{x:Math.abs(Vt)*j*t.kL2RDfatten,y:_t*j*t.kL2RDfatten}]);e.push(Z);break;case 14:var St=j>6?6/j:1,It=4*t.kWidth*Math.min(1-M/10,Math.pow(j/t.kMinWidthT,3))*St;Z=new m(l,f).getPolygon([{x:0,y:0},{x:0,y:-j},{x:-It,y:-j},{x:-It,y:.5*-j}]);e.push(Z)}}function M(t,e,n,r,o,i,s,a,h,c,u,l,f,p,g,d){x(t,e,n,r,o,i,s,a,h,c,u,l,f,p,g,d)}function A(t,e,n,r,o,i,s,a,h,c,u,l,f,p){x(t,e,n,r,o,i,o,i,s,a,h,c,u,l,f,p)}function b(t,e,n,o,i,s,a,h,c,u,l){var f=n,p=o,g=i,d=s,y=a,k=h,x=t.kMinWidthT-c/2;if(f===g||p!==d&&(f>g||Math.abs(d-p)>=Math.abs(g-f)||6===y||6===k)){var M=f===g?[0,1]:r([g-f,d-p]),A=M[0],b=M[1],w=new m(f,p),V=new m(g,d);w.setMatrix2(b,-A),V.setMatrix2(b,-A);var _=new v(4);switch(y){case 0:_.setPoint(0,w.getPoint(x,t.kMinWidthY/2)),_.setPoint(3,w.getPoint(-x,-t.kMinWidthY/2));break;case 1:case 6:_.setPoint(0,w.getPoint(x,0)),_.setPoint(3,w.getPoint(-x,0));break;case 12:_.setPoint(0,w.getPoint(x,-t.kMinWidthY)),_.setPoint(3,w.getPoint(-x,-t.kMinWidthY-x));break;case 22:if(f===g)_.set(0,f+x,p),_.set(3,f-x,p);else{var j=f>g?-1:1;_.set(0,f+(x+j)/b,p+1),_.set(3,f-x/b,p)}break;case 32:f===g?(_.set(0,f+x,p-t.kMinWidthY),_.set(3,f-x,p-t.kMinWidthY)):(_.set(0,f+x/b,p),_.set(3,f-x/b,p))}switch(k){case 0:6===y?(_.setPoint(1,V.getPoint(x,0)),_.setPoint(2,V.getPoint(-x,0))):(_.setPoint(1,V.getPoint(x,-x/2)),_.setPoint(2,V.getPoint(-x,x/2)));break;case 5:if(f===g)break;case 1:_.setPoint(1,V.getPoint(x,0)),_.setPoint(2,V.getPoint(-x,0));break;case 13:_.setPoint(1,V.getPoint(x,t.kAdjustKakatoL[l])),_.setPoint(2,V.getPoint(-x,t.kAdjustKakatoL[l]+x));break;case 23:_.setPoint(1,V.getPoint(x,t.kAdjustKakatoR[l])),_.setPoint(2,V.getPoint(-x,t.kAdjustKakatoR[l]+x));break;case 24:case 32:f===g?(_.set(1,g+x,d+t.kMinWidthY),_.set(2,g-x,d+t.kMinWidthY)):(_.set(1,g+x/b,d),_.set(2,g-x/b,d))}switch(e.push(_),k){case 24:var P=new m(g,d).getPolygon([{x:0,y:+t.kMinWidthY},f===g?{x:+x,y:3*-t.kMinWidthY}:{x:.5*+x,y:4*-t.kMinWidthY},{x:2*+x,y:-t.kMinWidthY},{x:2*+x,y:+t.kMinWidthY}]);e.push(P);break;case 13:if(4===l)if(f===g){P=new m(g,d).getPolygon([{x:-x,y:3*-t.kMinWidthY},{x:2*-x,y:0},{x:-t.kMinWidthY,y:5*+t.kMinWidthY},{x:+x,y:+t.kMinWidthY}]);e.push(P)}else{var $=f>g&&p!==d?Math.floor((f-g)/(d-p)*3):0;P=new m(g+$,d).getPolygon([{x:0,y:5*-t.kMinWidthY},{x:2*-x,y:0},{x:-t.kMinWidthY,y:5*+t.kMinWidthY},{x:+x,y:+t.kMinWidthY},{x:0,y:0}]);e.push(P)}}switch(y){case 22:case 27:P=new m(f,p).getPolygon([{x:-x,y:-t.kMinWidthY},{x:0,y:-t.kMinWidthY-t.kWidth},{x:+x+t.kWidth,y:+t.kMinWidthY}].concat(f===g?[{x:+x,y:+x},{x:-x,y:0}]:27===y?[{x:+x,y:+x-1},{x:0,y:+x+2},{x:0,y:0}]:[{x:+x,y:+x-1},{x:-x,y:+x+4}]));e.push(P);break;case 0:P=w.getPolygon([{x:x,y:.5*t.kMinWidthY},{x:x+.5*x,y:.5*t.kMinWidthY+t.kMinWidthY},{x:x-2,y:.5*t.kMinWidthY+2*t.kMinWidthY+1}]);f!==g&&P.set(2,f+(x-2)*b+(.5*t.kMinWidthY+2*t.kMinWidthY)*A,p+(x+1)*-A+(.5*t.kMinWidthY+2*t.kMinWidthY)*b),e.push(P)}if(f===g&&1===k||6===y&&(0===k||f!==g&&5===k)){P=new v;if(t.kUseCurve)P.pushPoint(V.getPoint(x,0)),P.push(g-A*x*.9+-b*-x*.9,d+b*x*.9+A*-x*.9,!0),P.pushPoint(V.getPoint(0,x)),P.pushPoint(V.getPoint(.9*-x,.9*x,!0)),P.pushPoint(V.getPoint(-x,0));else{var W=f===g&&(6===y&&0===k||1===k)?.6:.8;P.pushPoint(V.getPoint(x,0)),P.pushPoint(V.getPoint(.6*x,x*W)),P.pushPoint(V.getPoint(0,x)),P.pushPoint(V.getPoint(.6*-x,x*W)),P.pushPoint(V.getPoint(-x,0))}if(f===g&&(6===y&&0===k||1===k)&&P.reverse(),e.push(P),f!==g&&6===y&&5===k){var U=5*t.kWidth,S=f<g?1:-1,I=V.getPolygon([{x:S*(x-1),y:0},{x:S*(x+U),y:2},{x:S*(x+U),y:0},{x:x-1,y:-x}]);e.push(I)}}}else if(p===d&&6===y){var Y=new m(f,p),C=new m(g,d);_=new v([Y.getPoint(0,-x),C.getPoint(0,-x),C.getPoint(0,+x),Y.getPoint(0,+x)]);switch(e.push(_),k){case 1:case 0:case 5:V=new m(g,d);f>g&&V.setMatrix2(-1,0);W=.6,P=V.getPolygon(t.kUseCurve?[{x:0,y:-x},{x:.9*+x,y:.9*-x,off:!0},{x:+x,y:0},{x:.9*+x,y:.9*+x,off:!0},{x:0,y:+x}]:[{x:0,y:-x},{x:+x*W,y:.6*-x},{x:+x,y:0},{x:+x*W,y:.6*+x},{x:0,y:+x}]);if(f>=g&&P.reverse(),e.push(P),5===k){U=t.kWidth*(4*(1-c/t.kAdjustMageStep)+1),S=f<g?1:-1;var E=V.getPolygon([{x:0,y:S*-x},{x:2,y:S*(-x-U)},{x:0,y:S*(-x-U)},{x:-x,y:S*-x}]);e.push(E)}}}else{var N=p===d?[1,0]:r([g-f,d-p]);A=N[0],b=N[1],w=new m(f,p),V=new m(g,d);w.setMatrix2(A,b),V.setMatrix2(A,b);P=new v([w.getPoint(0,-t.kMinWidthY),V.getPoint(0,-t.kMinWidthY),V.getPoint(0,t.kMinWidthY),w.getPoint(0,t.kMinWidthY)]);switch(e.push(P),k){case 0:var T=(t.kMinWidthU/t.kMinWidthY-1)/4+1,O=V.getPolygon([{x:0,y:-t.kMinWidthY},{x:-t.kAdjustUrokoX[u]*T,y:0}]);O.push(g-(A-b)*t.kAdjustUrokoX[u]*T/2,d-(b+A)*t.kAdjustUrokoY[u]*T),e.push(O)}}}function w(t,e,n,r,o){return t.array.filter((function(t){return t.array.every((function(t){var i=t.x,s=t.y;return e<=i&&i<=r&&n<=s&&s<=o}))}))}var V=function(){function t(){this.shotai=p.kMincho,this.kRate=100,this.setSize()}return t.prototype.setSize=function(t){1===t?(this.kMinWidthY=1.2,this.kMinWidthT=3.6,this.kWidth=3,this.kKakato=1.8,this.kL2RDfatten=1.1,this.kMage=6,this.kUseCurve=!1,this.kAdjustKakatoL=[8,5,3,1,0],this.kAdjustKakatoR=[4,3,2,1],this.kAdjustKakatoRangeX=12,this.kAdjustKakatoRangeY=[1,11,14,18],this.kAdjustKakatoStep=3,this.kAdjustUrokoX=[14,12,9,7],this.kAdjustUrokoY=[7,6,5,4],this.kAdjustUrokoLength=[13,21,30],this.kAdjustUrokoLengthStep=3,this.kAdjustUrokoLine=[13,15,18]):(this.kMinWidthY=2,this.kMinWidthU=2,this.kMinWidthT=6,this.kWidth=5,this.kKakato=3,this.kL2RDfatten=1.1,this.kMage=10,this.kUseCurve=!1,this.kAdjustKakatoL=[14,9,5,2,0],this.kAdjustKakatoR=[8,6,4,2],this.kAdjustKakatoRangeX=20,this.kAdjustKakatoRangeY=[1,19,24,30],this.kAdjustKakatoStep=3,this.kAdjustUrokoX=[24,20,16,12],this.kAdjustUrokoY=[12,11,9,8],this.kAdjustUrokoLength=[22,36,50],this.kAdjustUrokoLengthStep=3,this.kAdjustUrokoLine=[22,26,30],this.kAdjustUroko2Step=3,this.kAdjustUroko2Length=40,this.kAdjustTateStep=4,this.kAdjustMageStep=5)},t.prototype.getDrawers=function(t){var e=this;return this.adjustStrokes(t).map((function(t){return function(o){!function(t,e,o){var i=o.stroke,s=i.a1_100,a=i.a2_100,h=i.a2_opt,c=i.a2_opt_1,u=i.a2_opt_2,l=i.a2_opt_3,f=i.a3_100,p=i.a3_opt,g=i.a3_opt_1,d=i.a3_opt_2,y=i.x1,k=i.y1,v=i.x2,m=i.y2,x=i.x3,V=i.y3,_=i.x4,j=i.y4,P=o.kirikuchiAdjustment,$=o.tateAdjustment,W=o.haneAdjustment,U=o.urokoAdjustment,S=o.kakatoAdjustment,I=o.mageAdjustment;switch(s){case 0:if(98===a&&0===h)for(var Y=y+v,C=0,E=0,N=w(e,y,k,v,m);E<N.length;E++)N[E].reflectX().translate(Y,C).floor();else if(97===a&&0===h){Y=0,C=k+m;for(var T=0,O=w(e,y,k,v,m);T<O.length;T++)O[T].reflectY().translate(Y,C).floor()}else if(99===a&&0===h)if(1===f&&0===p){Y=y+m,C=k-y;for(var L=0,K=w(e,y,k,v,m);L<K.length;L++)K[L].rotate90().translate(Y,C).floor()}else if(2===f&&0===p){Y=y+v,C=k+m;for(var B=0,D=w(e,y,k,v,m);B<D.length;B++)D[B].rotate180().translate(Y,C).floor()}else if(3===f&&0===p){Y=y-k,C=m+y;for(var G=0,z=w(e,y,k,v,m);G<z.length;G++)z[G].rotate270().translate(Y,C).floor()}break;case 1:if(4===f){var R=y===v&&k===m?[0,t.kMage]:r([y-v,k-m],t.kMage);b(t,e,y,k,J=v+R[0],Q=m+R[1],a+100*c,1,$,0,0),A(t,e,J,Q,v,m,v-t.kMage*((t.kAdjustTateStep+4-$)/(t.kAdjustTateStep+4)),m,1,14,$%10,W,Math.floor($/10),d)}else b(t,e,y,k,v,m,a+100*c,f,$,U,S);break;case 2:if(4===f){var F=v===x?[0,-t.kMage]:m===V?[-t.kMage,0]:r([v-x,m-V],t.kMage);A(t,e,y,k,v,m,J=x+F[0],Q=V+F[1],a+100*P,0,u,0,l,0),A(t,e,J,Q,x,V,x-t.kMage,V,2,14,u,W,0,d)}else A(t,e,y,k,v,m,x,V,a+100*P,5===f&&0===p?15:f,u,g,l,d);break;case 3:var X=y===v&&k===m?[0,t.kMage]:r([y-v,k-m],t.kMage),J=v+X[0],Q=m+X[1],H=v===x&&m===V?[0,-t.kMage]:r([x-v,V-m],t.kMage),Z=v+H[0],q=m+H[1];if(b(t,e,y,k,J,Q,a+100*c,1,$,0,0),A(t,e,J,Q,v,m,Z,q,1,1,0,0,$,I),5!==f||0!==g||v<x&&x-Z>0||v>x&&Z-x>0){var tt=5===f&&0===g?0:g+10*I;b(t,e,Z,q,x,V,6,f,I,tt,tt)}break;case 12:A(t,e,y,k,v,m,x,V,a+100*c,1,u,0,l,0),b(t,e,x,V,_,j,6,f,0,p,p);break;case 4:var et=n(x-v,V-m)/120*6;et>6&&(et=6);var nt=y===v&&k===m?[0,t.kMage*et]:r([y-v,k-m],t.kMage*et),rt=(J=v+nt[0],Q=m+nt[1],v===x&&m===V?[0,-t.kMage*et]:r([x-v,V-m],t.kMage*et));Z=v+rt[0],q=m+rt[1],b(t,e,y,k,J,Q,a+100*c,1,u+10*l,0,0),A(t,e,J,Q,v,m,Z,q,1,1,0,0,0,0),5===f&&0===p&&x-Z<=0||b(t,e,Z,q,x,V,6,f,0,p,p);break;case 6:if(4===f){var ot=x===_?[0,-t.kMage]:V===j?[-t.kMage,0]:r([x-_,V-j],t.kMage);M(t,e,y,k,v,m,x,V,J=_+ot[0],Q=j+ot[1],a+100*c,1,u,0,l,0),A(t,e,J,Q,_,j,_-t.kMage,j,1,14,0,W,0,d)}else M(t,e,y,k,v,m,x,V,_,j,a+100*c,5===f&&0===p?15:f,u,g,l,d);break;case 7:b(t,e,y,k,v,m,a+100*c,1,$,0,0),A(t,e,v,m,x,V,_,j,1,f,$%10,g,Math.floor($/10),d)}}(e,o,t)}}))},t.prototype.adjustStrokes=function(t){var e=t.map((function(t){var e=t.a2_opt_1,n=t.a2_opt_2,r=t.a2_opt_3,o=t.a3_opt;return{stroke:t,kirikuchiAdjustment:e,tateAdjustment:n+10*r,haneAdjustment:t.a3_opt_1,urokoAdjustment:o,kakatoAdjustment:o,mageAdjustment:t.a3_opt_2}}));return this.adjustHane(e),this.adjustMage(e),this.adjustTate(e),this.adjustKakato(e),this.adjustUroko(e),this.adjustUroko2(e),this.adjustKirikuchi(e),e},t.prototype.adjustHane=function(t){for(var e=[],n=0,r=t;n<r.length;n++){1===(s=r[n].stroke).a1_100&&0===s.a1_opt&&s.x1===s.x2&&e.push({stroke:s,x:s.x1,y1:s.y1,y2:s.y2})}for(var o=0,i=t;o<i.length;o++){var s,a=i[o];if((1===(s=a.stroke).a1_100||2===s.a1_100||6===s.a1_100)&&0===s.a1_opt&&4===s.a3_100&&0===s.a3_opt){var h=void 0,c=void 0;1===s.a1_100?(h=s.x2,c=s.y2):2===s.a1_100?(h=s.x3,c=s.y3):(h=s.x4,c=s.y4);var u=1/0;h+18<100&&(u=h+18);for(var l=0,f=e;l<f.length;l++){var p=f[l],g=p.stroke,d=p.x,y=p.y1,k=p.y2;s!==g&&h-d<100&&d<h&&y<=c&&k>=c&&(u=Math.min(u,h-d))}u!==1/0&&(a.haneAdjustment+=7-Math.floor(u/15))}}return t},t.prototype.adjustMage=function(t){for(var e=[],n=0,r=t;n<r.length;n++){1===(h=(a=r[n]).stroke).a1_100&&0===h.a1_opt&&h.y1===h.y2?e.push({stroke:h,adjStroke:a,isTarget:!1,y:h.y2,x1:h.x1,x2:h.x2}):3===h.a1_100&&0===h.a1_opt&&h.y2===h.y3&&e.push({stroke:h,adjStroke:a,isTarget:!0,y:h.y2,x1:h.x2,x2:h.x3})}for(var o=0,i=e;o<i.length;o++){var s=i[o],a=s.adjStroke,h=s.stroke,u=s.isTarget,l=s.y,f=s.x1,p=s.x2;if(u)for(var g=0,d=e;g<d.length;g++){var y=d[g],k=y.stroke,v=y.y,m=y.x1,x=y.x2;h!==k&&!(f+1>x||p-1<m)&&c(Math.abs(l-v))<this.kMinWidthT*this.kAdjustMageStep&&(a.mageAdjustment+=this.kAdjustMageStep-Math.floor(Math.abs(l-v)/this.kMinWidthT),a.mageAdjustment>this.kAdjustMageStep&&(a.mageAdjustment=this.kAdjustMageStep))}}return t},t.prototype.adjustTate=function(t){for(var e=[],n=0,r=t;n<r.length;n++){1!==(h=(a=r[n]).stroke).a1_100&&3!==h.a1_100&&7!==h.a1_100||0!==h.a1_opt||h.x1!==h.x2||e.push({stroke:h,adjStroke:a,x:h.x1,y1:h.y1,y2:h.y2})}for(var o=0,i=e;o<i.length;o++)for(var s=i[o],a=s.adjStroke,h=s.stroke,u=s.x,l=s.y1,f=s.y2,p=0,g=e;p<g.length;p++){var d=g[p],y=d.stroke,k=d.x,v=d.y1,m=d.y2;h!==y&&!(l+1>m||f-1<v)&&c(Math.abs(u-k))<this.kMinWidthT*this.kAdjustTateStep&&(a.tateAdjustment+=this.kAdjustTateStep-Math.floor(Math.abs(u-k)/this.kMinWidthT),(a.tateAdjustment>this.kAdjustTateStep||a.tateAdjustment===this.kAdjustTateStep&&(0!==h.a2_opt_1||0!==h.a2_100))&&(a.tateAdjustment=this.kAdjustTateStep))}return t},t.prototype.adjustKakato=function(t){for(var e=this,n=function(n){var o=n.stroke;if(1===o.a1_100&&0===o.a1_opt&&(13===o.a3_100||23===o.a3_100)&&0===o.a3_opt)for(var i=function(i){if(t.some((function(t){var n=t.stroke;return o!==n&&n.isCrossBox(o.x2-e.kAdjustKakatoRangeX/2,o.y2+e.kAdjustKakatoRangeY[i],o.x2+e.kAdjustKakatoRangeX/2,o.y2+e.kAdjustKakatoRangeY[i+1])}))||c(o.y2+r.kAdjustKakatoRangeY[i+1])>200||c(o.y2-o.y1)<r.kAdjustKakatoRangeY[i+1])return n.kakatoAdjustment=3-i,"break"},s=0;s<r.kAdjustKakatoStep;s++){if("break"===i(s))break}},r=this,o=0,i=t;o<i.length;o++){n(i[o])}return t},t.prototype.adjustUroko=function(t){for(var e=function(e){var i=e.stroke;if(1===i.a1_100&&0===i.a1_opt&&0===i.a3_100&&0===i.a3_opt)for(var s=function(s){var a=i.y1===i.y2?[1,0]:i.x2-i.x1<0?r([i.x1-i.x2,i.y1-i.y2]):r([i.x2-i.x1,i.y2-i.y1]),h=a[0],u=a[1],l=i.x2-o.kAdjustUrokoLine[s]*h-.5*u,f=i.y2-o.kAdjustUrokoLine[s]*u-.5*h;if(c(i.y1===i.y2?i.x2-i.x1:n(i.y2-i.y1,i.x2-i.x1))<o.kAdjustUrokoLength[s]||t.some((function(t){var e=t.stroke;return i!==e&&e.isCross(l,f,i.x2,i.y2)})))return e.urokoAdjustment=o.kAdjustUrokoLengthStep-s,"break"},a=0;a<o.kAdjustUrokoLengthStep;a++){if("break"===s(a))break}},o=this,i=0,s=t;i<s.length;i++){e(s[i])}return t},t.prototype.adjustUroko2=function(t){for(var e=[],n=0,r=t;n<r.length;n++){1===(h=(a=r[n]).stroke).a1_100&&0===h.a1_opt&&h.y1===h.y2?e.push({stroke:h,adjStroke:a,isTarget:0===h.a3_100&&0===h.a3_opt&&0===a.urokoAdjustment,y:h.y1,x1:h.x1,x2:h.x2}):3===h.a1_100&&0===h.a1_opt&&h.y2===h.y3&&e.push({stroke:h,adjStroke:a,isTarget:!1,y:h.y2,x1:h.x2,x2:h.x3})}for(var o=0,i=e;o<i.length;o++){var s=i[o],a=s.adjStroke,h=s.stroke,u=s.isTarget,l=s.y,f=s.x1,p=s.x2;if(u){for(var g=0,d=0,y=e;d<y.length;d++){var k=y[d],v=k.stroke,m=k.y,x=k.x1,M=k.x2;h!==v&&!(f+1>M||p-1<x)&&c(Math.abs(l-m))<this.kAdjustUroko2Length&&(g+=Math.pow(this.kAdjustUroko2Length-Math.abs(l-m),1.1))}a.urokoAdjustment=Math.min(Math.floor(g/this.kAdjustUroko2Length),this.kAdjustUroko2Step)}}return t},t.prototype.adjustKirikuchi=function(t){for(var e=[],n=0,r=t;n<r.length;n++){var o=r[n].stroke;1===o.a1_100&&0===o.a1_opt&&o.y1===o.y2&&e.push({y:o.y1,x1:o.x1,x2:o.x2})}for(var i=function(t){var n=t.stroke;2===n.a1_100&&0===n.a1_opt&&32===n.a2_100&&0===n.a2_opt&&n.x1>n.x2&&n.y1<n.y2&&e.some((function(t){var e=t.y,r=t.x1,o=t.x2;return r<n.x1&&o>n.x1&&e===n.y1}))&&(t.kirikuchiAdjustment=1)},s=0,a=t;s<a.length;s++){i(a[s])}return t},t}(),_=function(t,e){return(_=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};
/*! *****************************************************************************
        Copyright (c) Microsoft Corporation.

        Permission to use, copy, modify, and/or distribute this software for any
        purpose with or without fee is hereby granted.

        THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
        REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
        AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
        INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
        LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
        OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
        PERFORMANCE OF THIS SOFTWARE.
        ***************************************************************************** */function j(t,e,n,o,i,s,a,h,u,l,f,p){var g=0;if(0!==g){var d=n===i&&o===s?[0,g]:r([n-i,o-s],g);n+=d[0],o+=d[1]}var y=0;if(0!==y){var m=a===u&&h===l?[0,-y]:r([u-a,l-h],y);u+=m[0],l+=m[1]}for(var x=k(n,o,i,s,a,h,u,l,t.kRate,(function(){return t.kWidth}),(function(t,e){var n=t[0],o=t[1];return 0===c(n)&&0===c(o)?[-e,0]:r([n,o],e)})),M=x.left,A=x.right,b=new v,w=new v,V=0,_=M;V<_.length;V++){var j=_[V],P=j[0],$=j[1];b.push(P,$)}for(var W=0,U=A;W<U.length;W++){var S=U[W];P=S[0],$=S[1];w.push(P,$)}w.reverse(),b.concat(w),e.push(b)}function P(t,e,n,r,o,i,s,a,h,c,u,l){j(t,e,n,r,o,i,s,a,h,c)}function $(t,e,n,r,o,i,s,a,h,c){j(t,e,n,r,o,i,o,i,s,a)}function W(t,e,n,r,o,i,s,a){var h,c,u,l,f,p;n===o&&r>i||n>o?(h=o,c=i,u=n,l=r,f=a,p=s):(h=n,c=r,u=o,l=i,f=s,p=a);var g=new m(h,c),d=new m(u,l);switch(h===u&&c===l||(g.setDown(u,l),d.setUp(h,c)),f%10){case 2:g.move(0,-t.kWidth);break;case 3:g.move(0,-t.kWidth*t.kKakato)}switch(p%10){case 2:d.move(0,t.kWidth);break;case 3:d.move(0,t.kWidth*t.kKakato)}var y=new v([g.getPoint(t.kWidth,0),d.getPoint(t.kWidth,0),d.getPoint(-t.kWidth,0),g.getPoint(-t.kWidth,0)]);n===o&&y.reverse(),e.push(y)}var U=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.shotai=p.kGothic,e}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}_(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}(e,t),e.prototype.getDrawers=function(t){var e=this;return this.adjustStrokes(t).map((function(t){return function(n){!function(t,e,n){var o=n.stroke,i=o.a1_100,s=o.a2_100,a=o.a3_100,h=o.a3_opt,c=o.a3_opt_1,u=o.a3_opt_2,l=o.x1,f=o.y1,p=o.x2,g=o.y2,d=o.x3,y=o.y3,k=o.x4,v=o.y4,m=n.haneAdjustment,x=n.mageAdjustment;switch(i){case 0:break;case 1:if(4===a&&0===m&&0===u){var M=l===p&&f===g?[0,t.kMage]:r([l-p,f-g],t.kMage);W(t,e,l,f,j=p+M[0],b=g+M[1],s,1),$(t,e,j,b,p,g,p-2*t.kMage,g-.5*t.kMage)}else W(t,e,l,f,p,g,s,a);break;case 2:case 12:if(4===a&&0===m&&0===u){var A=p===d?[0,-t.kMage]:g===y?[-t.kMage,0]:r([p-d,g-y],t.kMage);$(t,e,l,f,p,g,j=d+A[0],b=y+A[1]),$(t,e,j,b,d,y,d-2*t.kMage,y-.5*t.kMage)}else if(5===a&&0===h){var b=y,w=(j=d+t.kMage)+.5*t.kMage,V=y-2*t.kMage;$(t,e,l,f,p,g,d,y),$(t,e,d,y,j,b,w,V)}else $(t,e,l,f,p,g,d,y);break;case 3:var _=l===p&&f===g?[0,t.kMage]:r([l-p,f-g],t.kMage),j=p+_[0],U=(b=g+_[1],p===d&&g===y?[0,-t.kMage]:r([d-p,y-g],t.kMage));if(w=p+U[0],V=g+U[1],W(t,e,l,f,j,b,s,1),$(t,e,j,b,p,g,w,V),5===a&&0===c&&0===x){var S=d-t.kMage,I=y,Y=d+.5*t.kMage,C=y-2*t.kMage;W(t,e,w,V,S,I,1,1),$(t,e,S,I,d,y,Y,C)}else W(t,e,w,V,d,y,1,a);break;case 6:5===a&&0===h?(j=k-t.kMage,b=v,w=k+.5*t.kMage,V=v-2*t.kMage,P(t,e,l,f,p,g,d,y,j,b),$(t,e,j,b,k,v,w,V)):P(t,e,l,f,p,g,d,y,k,v);break;case 7:W(t,e,l,f,p,g,s,1),$(t,e,p,g,d,y,k,v)}}(e,n,t)}}))},e}(V);function S(t){switch(t){case p.kMincho:return new V;default:return new U}}return function(){function n(e){this.kMincho=p.kMincho,this.kGothic=p.kGothic,this.kFont=S(p.kMincho),this.stretch=f,this.kFont.setSize(e),this.kBuhin=new t}return Object.defineProperty(n.prototype,"kShotai",{get:function(){return this.kFont.shotai},set:function(t){this.kFont=S(t)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"kUseCurve",{get:function(){return this.kFont.kUseCurve},set:function(t){this.kFont.kUseCurve=t},enumerable:!1,configurable:!0}),n.prototype.makeGlyph=function(t,e){var n=this.kBuhin.search(e);this.makeGlyph2(t,n)},n.prototype.makeGlyph2=function(t,e){if(""!==e)for(var n=this.getEachStrokes(e),r=0,o=this.kFont.getDrawers(n);r<o.length;r++){(0,o[r])(t)}},n.prototype.makeGlyph3=function(t){var n=[];if(""!==t)for(var r=this.getEachStrokes(t),o=0,i=this.kFont.getDrawers(r);o<i.length;o++){var s=i[o],a=new e;s(a),n.push(a)}return n},n.prototype.makeGlyphSeparated=function(t){var n=this,r=t.map((function(t){return n.getEachStrokes(t)})),o=this.kFont.getDrawers(r.reduce((function(t,e){return t.concat(e)}),[])),i=new e,s=0;return r.map((function(t){for(var n=t.length,r=i.array.length,a=0,h=o.slice(s,s+n);a<h.length;a++){(0,h[a])(i)}s+=n;var c=new e;return c.array=i.array.slice(r),c}))},n.prototype.getEachStrokes=function(t){for(var e=[],n=0,r=t.split("$");n<r.length;n++){var o=r[n].split(":");if(99!==Math.floor(+o[0]))e.push(new g([Math.floor(+o[0]),Math.floor(+o[1]),Math.floor(+o[2]),Math.floor(+o[3]),Math.floor(+o[4]),Math.floor(+o[5]),Math.floor(+o[6]),Math.floor(+o[7]),Math.floor(+o[8]),Math.floor(+o[9]),Math.floor(+o[10])]));else{var i=this.kBuhin.search(o[7]);""!==i&&(e=e.concat(this.getEachStrokesOfBuhin(i,Math.floor(+o[3]),Math.floor(+o[4]),Math.floor(+o[5]),Math.floor(+o[6]),Math.floor(+o[1]),Math.floor(+o[2]),Math.floor(+o[9]),Math.floor(+o[10]))))}}return e},n.prototype.getEachStrokesOfBuhin=function(t,e,n,r,o,i,s,a,h){var c=this.getEachStrokes(t),u=this.getBox(c);0===i&&0===s||(i>100?i-=200:(a=0,h=0));for(var l=0,f=c;l<f.length;l++){var p=f[l];0===i&&0===s||p.stretch(i,a,s,h,u.minX,u.maxX,u.minY,u.maxY),p.x1=e+p.x1*(r-e)/200,p.y1=n+p.y1*(o-n)/200,p.x2=e+p.x2*(r-e)/200,p.y2=n+p.y2*(o-n)/200,p.x3=e+p.x3*(r-e)/200,p.y3=n+p.y3*(o-n)/200,p.x4=e+p.x4*(r-e)/200,p.y4=n+p.y4*(o-n)/200}return c},n.prototype.getBox=function(t){for(var e=200,n=200,r=0,o=0,i=0,s=t;i<s.length;i++){var a=s[i].getBox(),h=a.minX,c=a.maxX,u=a.minY,l=a.maxY;e=Math.min(e,h),r=Math.max(r,c),n=Math.min(n,u),o=Math.max(o,l)}return{minX:e,maxX:r,minY:n,maxY:o}},n.Buhin=t,n.Polygons=e,n}()}();let Ve=new we;Ve.kUseCurve=!0;let _e=[];const je=()=>((t,e=!1)=>{if(!t||!t.length)return[];e||t.sort(X);let n,r=[];for(let e=0;e<t.length;e++)t[e]!==n&&r.push(t[e]),n=t[e];return r})((_e||[]).sort(X)),Pe=(t,e=64)=>t.replace(/(width|height)=\"\d+\"/g,((t,n,r)=>n+"="+e)),$e=(t,e)=>t.replace(/<svg /,"<svg "+e+" "),We=(t,e)=>t.replace(/fill="black"/g,'fill="'+e+'"'),Ue=(t,e)=>{e=e||Ve;const n=(r=t.fontface,ae[r]);var r;if(n){e.kShotai=n.hei?1:0;for(let t in n)e.kFont[t]=n[t]}else e.kShotai=t.hei?1:0,e.kFont.kWidth=t.width||5},Se=(t,e)=>t?"string"==typeof t?e.replace("</svg>",t)+"</svg>":"function"==typeof t?t(e):e:e,Ie=(t,e)=>{const n=oe(t);let r="";for(let t=0;t<n.length;t++){const[e,o,i,s]=n[t];r+=`<rect x=${e} y=${o} width=${i-e} height=${s-o} \n\t\t style="fill:none;stroke: ${"hsl("+60*(t+1)+" ,50%,30%)"} ; stroke-width:${t+1}" ></rect>`}return Se(r,e)},Ye=(t,e={})=>{if(!t)return"";const n={},r=e.size||64;let o,i=new we.Polygons;o="number"==typeof t?"u"+t.toString(16):t.codePointAt(0)<8192?t:"u"+t.codePointAt(0).toString(16);const s=Ft(o);if(!s)return e.alt?t:"";te(s,n);for(let t in n)Ve.kBuhin.push(t,n[t]);Ve.kBuhin.push(o,s),_e.push(...Object.keys(n)),Ue(e,Ve),Ve.makeGlyph(i,o);let a=i.generateSVG(!0);return a=e.frame?Ie(s,a):a,a=$e(a,"gid="+o+" ch="+t),"black"!==e.color&&e.color&&(a=We(a,e.color)),Pe(a,r)},Ce=(t,e={})=>{const n=tt(t);if(!(t=>nt(t)>1&&1==be(t).length)
/*! kage.js v0.4.0
     *  Licensed under GPL-3.0
     *  https://github.com/kurgm/kage-engine#readme
     */(t))return((t,e={})=>(_e=[],tt(t).map((t=>Ye(t,e)))))(t);let r=0,o=new we.Polygons;const i=e.size||64;let s=[];for(;r<n.length-2;){const t={},e=Ft(n[r]);Ve.kBuhin.push(ie(n[r]),e),te(e,t);const o=le[String.fromCodePoint(n[r+1])];let i,a,h;o?([i,a,h]=o(n.slice(r)),s.push(h)):(i=ie(n[r+1]||""),a=ie(n[r+2]||""));for(let e in t)if(e.slice(0,i.length)==i){let t=Ft(a+e.slice(i.length));t||(t=Ft(a)),Ve.kBuhin.push(e,t);const n={};te(t,n);for(let t in n)Ve.kBuhin.push(t,n[t])}else Ve.kBuhin.push(e,t[e]);_e.push(...Object.keys(t)),r+=2}const a=Ft(n[0]);Ve.kBuhin.push(t,a),Ue(e,Ve),Ve.makeGlyph(o,t);let h=o.generateSVG(!0);return s.forEach((t=>h=Se(t,h))),h=e.frame?Ie(a,h):h,h=$e(h,"ire="+t),"black"!==e.color&&e.color&&(h=We(h,e.color)),h=Pe(h,i),h},Ee=(t,e)=>{Ve=new we,Ve.kUseCurve=!0,_e=[];const n=be(t,!0),r=[];for(let t=0;t<n.length;t++){const o=n[t];r.push(1==nt(o)?Ye(o,e):Ce(o,e))}return r};function Ne(t,e,n){t.cloneNode(!0);var r=document.createElement("canvas");r.width=n,r.height=n;var o=r.getContext("2d");o.clearRect(0,0,n,n);var i=(new XMLSerializer).serializeToString(t),s=window.URL||window.webkitURL||window,a=new Image,h=new Blob([i],{type:"image/svg+xml;charset=utf-8"}),c=s.createObjectURL(h);a.onload=function(){o.drawImage(a,0,0),s.revokeObjectURL(c),function(t,e){var n=new MouseEvent("click",{view:window,bubbles:!1,cancelable:!0}),r=document.createElement("a");r.setAttribute("download",e),r.setAttribute("href",t),r.setAttribute("target","_blank"),r.dispatchEvent(n)}(r.toDataURL("image/png").replace("image/png","image/octet-stream"),e)},a.src=c}function Te(t,e,n){const r=t.slice();return r[14]=e[n],r}function Oe(t){let e,n;return{c(){e=l("span"),n=f(t[0]),m(e,"derivable",t[1])},m(t,r){h(t,e,r),a(e,n)},p(t,r){1&r&&k(n,t[0]),2&r&&m(e,"derivable",t[1])},d(t){t&&c(e)}}}function Le(t){let e,n,r,o,i,s,u,g=se(t[0])+"";return{c(){e=l("span"),n=f(g),r=p(),o=l("span"),i=f(t[0]),m(e,"derivable",t[1]),y(o,"class","clickable"),m(o,"derivable",t[1])},m(c,l){h(c,e,l),a(e,n),h(c,r,l),h(c,o,l),a(o,i),s||(u=d(o,"click",t[8]),s=!0)},p(t,r){1&r&&g!==(g=se(t[0])+"")&&k(n,g),2&r&&m(e,"derivable",t[1]),1&r&&k(i,t[0]),2&r&&m(o,"derivable",t[1])},d(t){t&&c(e),t&&c(r),t&&c(o),s=!1,u()}}}function Ke(t){let e,n;return e=new Fe({props:{gid:t[14],fontface:t[2]}}),{c(){B(e.$$.fragment)},m(t,r){D(e,t,r),n=!0},p(t,n){const r={};32&n&&(r.gid=t[14]),4&n&&(r.fontface=t[2]),e.$set(r)},i(t){n||(O(e.$$.fragment,t),n=!0)},o(t){L(e.$$.fragment,t),n=!1},d(t){G(e,t)}}}function Be(t){let e,n,r=t[9](t[5]),o=[];for(let e=0;e<r.length;e+=1)o[e]=Ke(Te(t,r,e));const i=t=>L(o[t],1,1,(()=>{o[t]=null}));return{c(){for(let t=0;t<o.length;t+=1)o[t].c();e=g()},m(t,r){for(let e=0;e<o.length;e+=1)o[e].m(t,r);h(t,e,r),n=!0},p(t,n){if(548&n){let s;for(r=t[9](t[5]),s=0;s<r.length;s+=1){const i=Te(t,r,s);o[s]?(o[s].p(i,n),O(o[s],1)):(o[s]=Ke(i),o[s].c(),O(o[s],1),o[s].m(e.parentNode,e))}for(N(),s=r.length;s<o.length;s+=1)i(s);T()}},i(t){if(!n){for(let t=0;t<r.length;t+=1)O(o[t]);n=!0}},o(t){o=o.filter(Boolean);for(let t=0;t<o.length;t+=1)L(o[t]);n=!1},d(t){u(o,t),t&&c(e)}}}function De(t){let e,n,r,o,i,s,u=t[6].length-t[5]*ze+"";return{c(){e=l("span"),n=f("…"),r=f(u),o=f("…"),y(e,"class","clickable")},m(c,u){h(c,e,u),a(e,n),a(e,r),a(e,o),i||(s=d(e,"click",t[10]),i=!0)},p(t,e){96&e&&u!==(u=t[6].length-t[5]*ze+"")&&k(r,u)},d(t){t&&c(e),i=!1,s()}}}function Ge(e){let n,r,o,s,u,v,m,x,M,A,b,w,V,_=e[5];function j(t,e){return t[1]?Le:Oe}let P=j(e),$=P(e),W=Be(e),U=e[5]*ze<e[6].length&&De(e);return{c(){n=l("ruby"),r=l("span"),o=p(),s=l("rt"),$.c(),u=p(),v=l("span"),m=f(e[4]),x=p(),W.c(),M=p(),U&&U.c(),A=g(),y(r,"title",e[0]),y(v,"class","msg")},m(t,i){h(t,n,i),a(n,r),r.innerHTML=e[7],a(n,o),a(n,s),$.m(s,null),h(t,u,i),h(t,v,i),a(v,m),h(t,x,i),W.m(t,i),h(t,M,i),U&&U.m(t,i),h(t,A,i),b=!0,w||(V=d(r,"click",e[13]),w=!0)},p(e,[n]){(!b||1&n)&&y(r,"title",e[0]),P===(P=j(e))&&$?$.p(e,n):($.d(1),$=P(e),$&&($.c(),$.m(s,null))),(!b||16&n)&&k(m,e[4]),32&n&&i(_,_=e[5])?(N(),L(W,1,1,t),T(),W=Be(e),W.c(),O(W),W.m(M.parentNode,M)):W.p(e,n),e[5]*ze<e[6].length?U?U.p(e,n):(U=De(e),U.c(),U.m(A.parentNode,A)):U&&(U.d(1),U=null)},i(t){b||(O(W),b=!0)},o(t){L(W),b=!1},d(t){t&&c(n),$.d(),t&&c(u),t&&c(v),t&&c(x),W.d(t),t&&c(M),U&&U.d(t),t&&c(A),w=!1,V()}}}const ze=30;function Re(t,e,n){let{gid:r}=e,{derivable:o=!1,fontface:i}=e,{size:s=48*(o?1.5:1)}=e,a="",{onclick:h=null}=e,c=0;const u=Ye(r,{size:s,fontface:i});let l=[];const f=t=>{Ne(t.target,se(r)+".png",s)};return t.$$set=t=>{"gid"in t&&n(0,r=t.gid),"derivable"in t&&n(1,o=t.derivable),"fontface"in t&&n(2,i=t.fontface),"size"in t&&n(12,s=t.size),"onclick"in t&&n(3,h=t.onclick)},[r,o,i,h,a,c,l,u,()=>{o&&(l.length?n(5,c=0):(n(4,a="⌛..."),setTimeout((()=>{n(6,l=ne(r)),n(5,c=1),n(4,a="")}),1)))},()=>l.slice(0,ze*c),()=>{n(5,c++,c)},f,s,t=>h?h(t):f(t)]}class Fe extends F{constructor(t){super(),R(this,t,Re,Ge,i,{gid:0,derivable:1,fontface:2,size:12,onclick:3})}}function Xe(t,e,n){const r=t.slice();return r[12]=e[n],r}function Je(t){let e,n,r,o,i,s,u,g,k,v=t[5](t[12],t[1])+"",x=t[12].codePointAt(0).toString(16)+"";function M(){return t[9](t[12])}return{c(){e=l("ruby"),n=l("rb"),r=l("span"),i=l("rt"),s=f(x),u=p(),y(r,"title",o=t[4](t[12])),y(n,"class","charmap-glyph"),y(i,"class","charmap-codepoint"),m(i,"selected",t[0]==t[12])},m(t,o){h(t,e,o),a(e,n),a(n,r),r.innerHTML=v,a(e,i),a(i,s),a(e,u),g||(k=d(e,"click",M),g=!0)},p(e,n){t=e,2&n&&v!==(v=t[5](t[12],t[1])+"")&&(r.innerHTML=v),5&n&&m(i,"selected",t[0]==t[12])},d(t){t&&c(e),g=!1,k()}}}function Qe(e){let n,r=e[2],o=[];for(let t=0;t<r.length;t+=1)o[t]=Je(Xe(e,r,t));return{c(){for(let t=0;t<o.length;t+=1)o[t].c();n=g()},m(t,e){for(let n=0;n<o.length;n+=1)o[n].m(t,e);h(t,n,e)},p(t,[e]){if(63&e){let i;for(r=t[2],i=0;i<r.length;i+=1){const s=Xe(t,r,i);o[i]?o[i].p(s,e):(o[i]=Je(s),o[i].c(),o[i].m(n.parentNode,n))}for(;i<o.length;i+=1)o[i].d(1);o.length=r.length}},i:t,o:t,d(t){u(o,t),t&&c(n)}}}function He(t,e,n){let{rowstart:r=19968}=e,{fontface:o}=e,{glyph:i=""}=e,{base:s=""}=e,a=!1,h=[];String.fromCodePoint(ut(i));for(let t=0;t<16;t++)h.push(String.fromCodePoint(r+t));const c=async t=>{i==t?n(1,a=!a):n(0,i=t),await(async t=>{await navigator.clipboard.writeText(t)})()},u=t=>a&&s&&i==t?((t,e)=>{const n=Me(t,e);if(n)return String.fromCodePoint(n.codePointAt(0))+"ⓡ"+t})(t,s):t;return t.$$set=t=>{"rowstart"in t&&n(6,r=t.rowstart),"fontface"in t&&n(7,o=t.fontface),"glyph"in t&&n(0,i=t.glyph),"base"in t&&n(8,s=t.base)},[i,a,h,c,u,(t,e)=>Ee(u(t),{size:48,alt:!0,fontface:o,color:u(t)!==t?"green":"black"}),r,o,s,t=>c(t)]}class Ze extends F{constructor(t){super(),R(this,t,He,Qe,i,{rowstart:6,fontface:7,glyph:0,base:8})}}function qe(t,e,n){const r=t.slice();return r[9]=e[n],r}function tn(t,e,n){const r=t.slice();return r[12]=e[n],r}function en(t){let e,n,r,o,i=t[12]+"";function s(){return t[6](t[12])}return{c(){e=l("span"),n=f(i),y(e,"class","clickable"),m(e,"selected",ct(t[0])==t[12])},m(t,i){h(t,e,i),a(e,n),r||(o=d(e,"click",s),r=!0)},p(n,r){t=n,1&r&&m(e,"selected",ct(t[0])==t[12])},d(t){t&&c(e),r=!1,o()}}}function nn(t){let e,n=ht(),r=[];for(let e=0;e<n.length;e+=1)r[e]=en(tn(t,n,e));return{c(){for(let t=0;t<r.length;t+=1)r[t].c();e=g()},m(t,n){for(let e=0;e<r.length;e+=1)r[e].m(t,n);h(t,e,n)},p(t,o){if(1&o){let i;for(n=ht(),i=0;i<n.length;i+=1){const s=tn(t,n,i);r[i]?r[i].p(s,o):(r[i]=en(s),r[i].c(),r[i].m(e.parentNode,e))}for(;i<r.length;i+=1)r[i].d(1);r.length=n.length}},d(t){u(r,t),t&&c(e)}}}function rn(t){let e,n,r,o;function i(e){t[7](e)}let s={rowstart:t[9],fontface:t[1]};return void 0!==t[0]&&(s.glyph=t[0]),n=new Ze({props:s}),w.push((()=>K(n,"glyph",i))),{c(){e=l("div"),B(n.$$.fragment)},m(t,r){h(t,e,r),D(n,e,null),o=!0},p(t,e){const o={};4&e&&(o.rowstart=t[9]),2&e&&(o.fontface=t[1]),!r&&1&e&&(r=!0,o.glyph=t[0],W((()=>r=!1))),n.$set(o)},i(t){o||(O(n.$$.fragment,t),o=!0)},o(t){L(n.$$.fragment,t),o=!1},d(t){t&&c(e),G(n)}}}function on(t){let e,n,r=t[2],o=[];for(let e=0;e<r.length;e+=1)o[e]=rn(qe(t,r,e));const i=t=>L(o[t],1,1,(()=>{o[t]=null}));return{c(){for(let t=0;t<o.length;t+=1)o[t].c();e=g()},m(t,r){for(let e=0;e<o.length;e+=1)o[e].m(t,r);h(t,e,r),n=!0},p(t,n){if(7&n){let s;for(r=t[2],s=0;s<r.length;s+=1){const i=qe(t,r,s);o[s]?(o[s].p(i,n),O(o[s],1)):(o[s]=rn(i),o[s].c(),O(o[s],1),o[s].m(e.parentNode,e))}for(N(),s=r.length;s<o.length;s+=1)i(s);T()}},i(t){if(!n){for(let t=0;t<r.length;t+=1)O(o[t]);n=!0}},o(t){o=o.filter(Boolean);for(let t=0;t<o.length;t+=1)L(o[t]);n=!1},d(t){u(o,t),t&&c(e)}}}function sn(e){let n,o,s,a,u,f,k,m,x,M,A,b,w,V=e[0],_=e[2],j=nn(e),P=on(e);return{c(){n=l("span"),n.textContent="⏪",o=p(),s=l("input"),a=p(),u=l("span"),u.textContent="⏩",f=p(),k=l("br"),m=p(),j.c(),x=p(),P.c(),M=g(),y(n,"class","clickable"),y(s,"size","4"),y(u,"class","clickable")},m(t,r){h(t,n,r),h(t,o,r),h(t,s,r),v(s,e[0]),h(t,a,r),h(t,u,r),h(t,f,r),h(t,k,r),h(t,m,r),j.m(t,r),h(t,x,r),P.m(t,r),h(t,M,r),A=!0,b||(w=[d(n,"click",e[4]),d(s,"input",e[5]),d(u,"click",e[3])],b=!0)},p(e,[n]){1&n&&s.value!==e[0]&&v(s,e[0]),1&n&&i(V,V=e[0])?(j.d(1),j=nn(e),j.c(),j.m(x.parentNode,x)):j.p(e,n),4&n&&i(_,_=e[2])?(N(),L(P,1,1,t),T(),P=on(e),P.c(),O(P),P.m(M.parentNode,M)):P.p(e,n)},i(t){A||(O(P),A=!0)},o(t){L(P),A=!1},d(t){t&&c(n),t&&c(o),t&&c(s),t&&c(a),t&&c(u),t&&c(f),t&&c(k),t&&c(m),j.d(t),t&&c(x),t&&c(M),P.d(t),b=!1,r(w)}}}function an(t,e,n){let{glyph:r}=e,{fontface:o}=e,i=[];const s=()=>{let t=ut(r,!0);n(2,i.length=0,i);for(let e=0;e<8;e++)i.push(t+16*e)};return t.$$set=t=>{"glyph"in t&&n(0,r=t.glyph),"fontface"in t&&n(1,o=t.fontface)},t.$$.update=()=>{1&t.$$.dirty&&s()},[r,o,i,()=>{let t=ut(r,!0)+128;n(0,r=t.toString(16)),s()},()=>{let t=ut(r,!0);t-128>=0&&(n(0,r=(t-128).toString(16)),s())},function(){r=this.value,n(0,r)},t=>n(0,r=(t=>at[t]||[0,0])(t)[0].toString(16)),function(t){r=t,n(0,r)}]}class hn extends F{constructor(t){super(),R(this,t,an,sn,i,{glyph:0,fontface:1})}}function cn(t,e,n){const r=t.slice();return r[9]=e[n],r}function un(t,e,n){const r=t.slice();return r[12]=e[n],r}function ln(t){let e,n,r=t[12]+"";return{c(){e=l("div"),n=f(r),y(e,"class","glyphdata svelte-1mstjcy")},m(t,r){h(t,e,r),a(e,n)},p(t,e){16&e&&r!==(r=t[12]+"")&&k(n,r)},d(t){t&&c(e)}}}function fn(t){let e,n,r,i,s=t[9]+"";return{c(){e=l("span"),n=f(s),y(e,"class","clickable"),m(e,"selected",t[2]==t[9])},m(s,c){h(s,e,c),a(e,n),r||(i=d(e,"click",(function(){o(t[6](t[9]))&&t[6](t[9]).apply(this,arguments)})),r=!0)},p(r,o){t=r,8&o&&s!==(s=t[9]+"")&&k(n,s),12&o&&m(e,"selected",t[2]==t[9])},d(t){t&&c(e),r=!1,i()}}}function pn(t){let e,n,r,o,i,s,f,g,d,k,v,m,M,A,b;function V(e){t[7](e)}let _={fontface:t[0]};void 0!==t[1]&&(_.glyph=t[1]),s=new hn({props:_}),w.push((()=>K(s,"glyph",V)));let j=t[4],P=[];for(let e=0;e<j.length;e+=1)P[e]=ln(un(t,j,e));let $=t[3],U=[];for(let e=0;e<$.length;e+=1)U[e]=fn(cn(t,$,e));return{c(){e=l("a"),e.textContent="🏠",n=p(),r=l("table"),o=l("tr"),i=l("td"),B(s.$$.fragment),g=p(),d=l("td"),k=new x,v=p(),m=l("br"),M=p();for(let t=0;t<P.length;t+=1)P[t].c();A=p();for(let t=0;t<U.length;t+=1)U[t].c();y(e,"class","homepage"),y(e,"href","https://github.com/accelon/hzpx/"),y(i,"class","svelte-1mstjcy"),k.a=v,y(d,"class","svelte-1mstjcy")},m(c,u){h(c,e,u),h(c,n,u),h(c,r,u),a(r,o),a(o,i),D(s,i,null),a(o,g),a(o,d),k.m(t[5],d),a(d,v),a(d,m),a(d,M);for(let t=0;t<P.length;t+=1)P[t].m(d,null);a(d,A);for(let t=0;t<U.length;t+=1)U[t].m(d,null);b=!0},p(t,[e]){const n={};if(1&e&&(n.fontface=t[0]),!f&&2&e&&(f=!0,n.glyph=t[1],W((()=>f=!1))),s.$set(n),(!b||32&e)&&k.p(t[5]),16&e){let n;for(j=t[4],n=0;n<j.length;n+=1){const r=un(t,j,n);P[n]?P[n].p(r,e):(P[n]=ln(r),P[n].c(),P[n].m(d,A))}for(;n<P.length;n+=1)P[n].d(1);P.length=j.length}if(76&e){let n;for($=t[3],n=0;n<$.length;n+=1){const r=cn(t,$,n);U[n]?U[n].p(r,e):(U[n]=fn(r),U[n].c(),U[n].m(d,null))}for(;n<U.length;n+=1)U[n].d(1);U.length=$.length}},i(t){b||(O(s.$$.fragment,t),b=!0)},o(t){L(s.$$.fragment,t),b=!1},d(t){t&&c(e),t&&c(n),t&&c(r),G(s),u(P,t),u(U,t)}}}function gn(t,e,n){let r,o,i,{fontface:s}=e,a="20000",h="";return t.$$set=t=>{"fontface"in t&&n(0,s=t.fontface)},t.$$.update=()=>{3&t.$$.dirty&&n(5,r=Ee(a,{size:200,fontface:s,frame:!0})),2&t.$$.dirty&&n(4,o=Ft(a).split("$"))},n(3,i=[]),[s,a,h,i,o,r,t=>{n(2,h=h==t?"":t)},function(t){a=t,n(1,a)}]}class dn extends F{constructor(t){super(),R(this,t,gn,pn,i,{fontface:0})}}function yn(t,e,n){const r=t.slice();return r[5]=e[n],r}function kn(t){let e,n,r,o,i,s=t[5]+"";function u(){return t[4](t[5])}return{c(){e=l("span"),n=f(s),y(e,"class","clickable"),y(e,"title",r=t[3](t[5])),m(e,"selected",t[0]==t[5])},m(t,r){h(t,e,r),a(e,n),o||(i=d(e,"click",u),o=!0)},p(o,i){t=o,2&i&&s!==(s=t[5]+"")&&k(n,s),2&i&&r!==(r=t[3](t[5]))&&y(e,"title",r),3&i&&m(e,"selected",t[0]==t[5])},d(t){t&&c(e),o=!1,i()}}}function vn(e){let n,r,o,i,s,v,m=~e[1].indexOf(e[0])?"❌":"❤",x=e[1],M=[];for(let t=0;t<x.length;t+=1)M[t]=kn(yn(e,x,t));return{c(){n=l("span"),r=f(m),o=p();for(let t=0;t<M.length;t+=1)M[t].c();i=g(),y(n,"class","clickable"),y(n,"title","Favorite 最爱")},m(t,c){h(t,n,c),a(n,r),h(t,o,c);for(let e=0;e<M.length;e+=1)M[e].m(t,c);h(t,i,c),s||(v=d(n,"click",e[2]),s=!0)},p(t,[e]){if(3&e&&m!==(m=~t[1].indexOf(t[0])?"❌":"❤")&&k(r,m),11&e){let n;for(x=t[1],n=0;n<x.length;n+=1){const r=yn(t,x,n);M[n]?M[n].p(r,e):(M[n]=kn(r),M[n].c(),M[n].m(i.parentNode,i))}for(;n<M.length;n+=1)M[n].d(1);M.length=x.length}},i:t,o:t,d(t){t&&c(n),t&&c(o),u(M,t),t&&c(i),s=!1,v()}}}function mn(t,e,n){let r;s(t,ye,(t=>n(1,r=t)));let{value:o=""}=e;return t.$$set=t=>{"value"in t&&n(0,o=t.value)},[o,r,()=>{~r.indexOf(o)?function(t,e,n){t.set(n)}(ye,r=r.filter((t=>t!==o)),r):o.trim()&&r.unshift(o),ye.set(r)},t=>tt(t).map((t=>t.toString(16))).join(" "),t=>n(0,o=t)]}class xn extends F{constructor(t){super(),R(this,t,mn,vn,i,{value:0})}}function Mn(t,e,n){const r=t.slice();return r[26]=e[n],r}function An(t,e,n){const r=t.slice();return r[26]=e[n],r}function bn(t,e,n){const r=t.slice();return r[31]=e[n],r}function wn(t,e,n){const r=t.slice();return r[34]=e[n],r[36]=n,r}function Vn(t,e,n){const r=t.slice();return r[37]=e[n],r}function _n(e){let n,o,s,a,f,k,x,M,A,b,V,_,j,P,$,U,S,I,Y,C,E,z,R,F,X=e[0];function J(t){e[17](t)}let Q={};void 0!==e[0]&&(Q.value=e[0]),f=new xn({props:Q}),w.push((()=>K(f,"value",J)));let H=e[5]&&Pn(e),Z=e[1],q=[];for(let t=0;t<Z.length;t+=1)q[t]=Wn(wn(e,Z,t));let tt=e[8],et=[];for(let t=0;t<tt.length;t+=1)et[t]=Un(bn(e,tt,t));let nt=En(e);return{c(){n=l("input"),o=p(),s=l("br"),a=p(),B(f.$$.fragment),x=p(),M=l("span"),M.textContent="⿻",A=p(),b=l("span"),b.textContent="🗚",V=p(),H&&H.c(),_=p(),j=l("br"),P=p();for(let t=0;t<q.length;t+=1)q[t].c();$=p();for(let t=0;t<et.length;t+=1)et[t].c();U=p(),S=l("br"),I=p(),Y=l("span"),Y.textContent="👪",C=p(),nt.c(),E=g(),y(n,"class","input"),y(n,"maxlength","25"),y(n,"placeholder","基字或构件"),y(M,"title","Frame 字框"),m(M,"selected",e[2]),y(b,"title","Font 字型"),y(b,"class","clickable"),m(b,"selected",e[5]),y(Y,"title","Members and Derived 成员及孳乳"),m(Y,"selected",e[3])},m(t,r){h(t,n,r),v(n,e[0]),h(t,o,r),h(t,s,r),h(t,a,r),D(f,t,r),h(t,x,r),h(t,M,r),h(t,A,r),h(t,b,r),h(t,V,r),H&&H.m(t,r),h(t,_,r),h(t,j,r),h(t,P,r);for(let e=0;e<q.length;e+=1)q[e].m(t,r);h(t,$,r);for(let e=0;e<et.length;e+=1)et[e].m(t,r);h(t,U,r),h(t,S,r),h(t,I,r),h(t,Y,r),h(t,C,r),nt.m(t,r),h(t,E,r),z=!0,R||(F=[d(n,"input",e[16]),d(M,"click",e[18]),d(b,"click",e[19]),d(Y,"click",e[22])],R=!0)},p(e,r){1&r[0]&&n.value!==e[0]&&v(n,e[0]);const o={};if(!k&&1&r[0]&&(k=!0,o.value=e[0],W((()=>k=!1))),f.$set(o),4&r[0]&&m(M,"selected",e[2]),32&r[0]&&m(b,"selected",e[5]),e[5]?H?H.p(e,r):(H=Pn(e),H.c(),H.m(_.parentNode,_)):H&&(H.d(1),H=null),6146&r[0]){let t;for(Z=e[1],t=0;t<Z.length;t+=1){const n=wn(e,Z,t);q[t]?q[t].p(n,r):(q[t]=Wn(n),q[t].c(),q[t].m($.parentNode,$))}for(;t<q.length;t+=1)q[t].d(1);q.length=Z.length}if(8448&r[0]){let t;for(tt=e[8],t=0;t<tt.length;t+=1){const n=bn(e,tt,t);et[t]?et[t].p(n,r):(et[t]=Un(n),et[t].c(),et[t].m(U.parentNode,U))}for(;t<et.length;t+=1)et[t].d(1);et.length=tt.length}8&r[0]&&m(Y,"selected",e[3]),1&r[0]&&i(X,X=e[0])?(N(),L(nt,1,1,t),T(),nt=En(e),nt.c(),O(nt),nt.m(E.parentNode,E)):nt.p(e,r)},i(t){z||(O(f.$$.fragment,t),O(nt),z=!0)},o(t){L(f.$$.fragment,t),L(nt),z=!1},d(t){t&&c(n),t&&c(o),t&&c(s),t&&c(a),G(f,t),t&&c(x),t&&c(M),t&&c(A),t&&c(b),t&&c(V),H&&H.d(t),t&&c(_),t&&c(j),t&&c(P),u(q,t),t&&c($),u(et,t),t&&c(U),t&&c(S),t&&c(I),t&&c(Y),t&&c(C),t&&c(E),nt.d(t),R=!1,r(F)}}}function jn(t){let e,n;return e=new dn({props:{fontface:t[4]}}),{c(){B(e.$$.fragment)},m(t,r){D(e,t,r),n=!0},p(t,n){const r={};16&n[0]&&(r.fontface=t[4]),e.$set(r)},i(t){n||(O(e.$$.fragment,t),n=!0)},o(t){L(e.$$.fragment,t),n=!1},d(t){G(e,t)}}}function Pn(t){let e,n=t[9],r=[];for(let e=0;e<n.length;e+=1)r[e]=$n(Vn(t,n,e));return{c(){for(let t=0;t<r.length;t+=1)r[t].c();e=g()},m(t,n){for(let e=0;e<r.length;e+=1)r[e].m(t,n);h(t,e,n)},p(t,o){if(528&o[0]){let i;for(n=t[9],i=0;i<n.length;i+=1){const s=Vn(t,n,i);r[i]?r[i].p(s,o):(r[i]=$n(s),r[i].c(),r[i].m(e.parentNode,e))}for(;i<r.length;i+=1)r[i].d(1);r.length=n.length}},d(t){u(r,t),t&&c(e)}}}function $n(t){let e,n,r,o,i,s=t[37]+"";function u(){return t[20](t[37])}return{c(){e=l("span"),n=f(s),r=p(),y(e,"class","clickable"),m(e,"selected",t[37]==t[4])},m(t,s){h(t,e,s),a(e,n),a(e,r),o||(i=d(e,"click",u),o=!0)},p(r,o){t=r,512&o[0]&&s!==(s=t[37]+"")&&k(n,s),528&o[0]&&m(e,"selected",t[37]==t[4])},d(t){t&&c(e),o=!1,i()}}}function Wn(t){let e,n,r,o,i=t[34]+"";return{c(){e=l("span"),y(e,"title",n=t[11][t[36]])},m(n,s){h(n,e,s),e.innerHTML=i,r||(o=d(e,"click",t[12]),r=!0)},p(t,r){2&r[0]&&i!==(i=t[34]+"")&&(e.innerHTML=i),2048&r[0]&&n!==(n=t[11][t[36]])&&y(e,"title",n)},d(t){t&&c(e),r=!1,o()}}}function Un(t){let e,n,r,o,i=t[31]+"";function s(){return t[21](t[31])}return{c(){e=l("span"),n=f(i),y(e,"class","replacecomp")},m(t,i){h(t,e,i),a(e,n),r||(o=d(e,"click",s),r=!0)},p(e,r){t=e,256&r[0]&&i!==(i=t[31]+"")&&k(n,i)},d(t){t&&c(e),r=!1,o()}}}function Sn(e){let n,r,o,i,s,a,u,g,d,k,v,m,x,M,A,b,w,V,_,j,P,$,W,U,S,I,Y,C,E,N,T,O,L,K,B,D,G,z,R,F,X;return{c(){n=l("h3"),n.textContent="画面说明",r=f("\r\n1行：字表, 输入区 (单字视为构件)\r\n"),o=l("br"),i=f("2行：加入/删除最爱 , 拼形式清单 , 显示字框 , 选择字体\r\n"),s=l("br"),a=f("3行：大字形(点一下存为PNG) 替代构件清单\r\n"),u=l("br"),g=f("4行：字族按钮\r\n"),d=l("br"),k=f("5行：构件之孳乳\r\n"),v=l("br"),m=f("6~：拼形所用到的构件，点字形存为PNG，点代码列出此构件之孳乳\r\n"),x=l("h3"),x.textContent="使用说明",M=f("\r\n基字：做为构建字形的基础字。构件：构成字形的元素。\r\n"),A=l("br"),b=f('拼形式：拼出一个字形的式子。语法是："基字/构件/替字" ，替字也可以是拼形式。\r\n'),w=l("br"),V=f("输入一个单字，按字族，可得此字之孳乳，点一下将之作为基字。\r\n"),_=l("br"),j=f("选定基字之後，按一下要替换的构件，再输入替字。\r\n"),P=l("h3"),P.textContent="技术说明",$=f("\r\n不依赖服务端，纯html+js 软件。智能识別拼形式和一般字。\r\n"),W=l("br"),U=f("本字库可生成包括Unicode A-F 的所有字形。数据量约为 4.2MB。\r\n"),S=l("br"),I=f("「汉字拼形」授权方式为ISC（可做商业用途），但目前基於以下两个GPL授权（可做商业用途但必须开源）之模块。\r\n"),Y=l("br"),C=f("A. Glyphwiki.org 数据库   B. Kage(荫) 矢量笔划产生器 \r\n"),E=l("h3"),E.textContent="已知问题",N=f("\r\n1.由於Glyphwiki造字时并没有考虑字形生成的需求，很多字的字框无法做基字，如「街圭舞」效果不理想。\r\n"),T=l("br"),O=f("2.为求字形美观，Glyphwiki 将部件拆散为笔划，这样的字无法做为基字。\r\n"),L=l("br"),K=f("3.glyphwiki是日本风格的字形库，某些细节不符合中国国家标准。\r\n"),B=l("br"),D=f("4.在稍微牺牲美观的条件下，许多字可替换成拼形式，每字可节约40B左右，理论上全CJK字库可以压缩到2.5MB~3MB，相於16x16点阵字模。\r\n"),G=l("br"),z=f("5.首次使用孳乳会花几秒钟产生反向索引。由於索引只在内存，网页重载之后必须重建。\r\n"),R=l("br"),F=p(),X=l("a"),X.textContent="hzpx 源代码",y(X,"target","_new"),y(X,"href","https://github.com/accelon/hzpx/")},m(t,e){h(t,n,e),h(t,r,e),h(t,o,e),h(t,i,e),h(t,s,e),h(t,a,e),h(t,u,e),h(t,g,e),h(t,d,e),h(t,k,e),h(t,v,e),h(t,m,e),h(t,x,e),h(t,M,e),h(t,A,e),h(t,b,e),h(t,w,e),h(t,V,e),h(t,_,e),h(t,j,e),h(t,P,e),h(t,$,e),h(t,W,e),h(t,U,e),h(t,S,e),h(t,I,e),h(t,Y,e),h(t,C,e),h(t,E,e),h(t,N,e),h(t,T,e),h(t,O,e),h(t,L,e),h(t,K,e),h(t,B,e),h(t,D,e),h(t,G,e),h(t,z,e),h(t,R,e),h(t,F,e),h(t,X,e)},p:t,i:t,o:t,d(t){t&&c(n),t&&c(r),t&&c(o),t&&c(i),t&&c(s),t&&c(a),t&&c(u),t&&c(g),t&&c(d),t&&c(k),t&&c(v),t&&c(m),t&&c(x),t&&c(M),t&&c(A),t&&c(b),t&&c(w),t&&c(V),t&&c(_),t&&c(j),t&&c(P),t&&c($),t&&c(W),t&&c(U),t&&c(S),t&&c(I),t&&c(Y),t&&c(C),t&&c(E),t&&c(N),t&&c(T),t&&c(O),t&&c(L),t&&c(K),t&&c(B),t&&c(D),t&&c(G),t&&c(z),t&&c(R),t&&c(F),t&&c(X)}}}function In(t){let e,n,r,o=t[7],i=[];for(let e=0;e<o.length;e+=1)i[e]=Yn(An(t,o,e));const s=t=>L(i[t],1,1,(()=>{i[t]=null}));let a=t[10],l=[];for(let e=0;e<a.length;e+=1)l[e]=Cn(Mn(t,a,e));const f=t=>L(l[t],1,1,(()=>{l[t]=null}));return{c(){for(let t=0;t<i.length;t+=1)i[t].c();e=p();for(let t=0;t<l.length;t+=1)l[t].c();n=g()},m(t,o){for(let e=0;e<i.length;e+=1)i[e].m(t,o);h(t,e,o);for(let e=0;e<l.length;e+=1)l[e].m(t,o);h(t,n,o),r=!0},p(t,r){if(16528&r[0]){let n;for(o=t[7],n=0;n<o.length;n+=1){const s=An(t,o,n);i[n]?(i[n].p(s,r),O(i[n],1)):(i[n]=Yn(s),i[n].c(),O(i[n],1),i[n].m(e.parentNode,e))}for(N(),n=o.length;n<i.length;n+=1)s(n);T()}if(1040&r[0]){let e;for(a=t[10],e=0;e<a.length;e+=1){const o=Mn(t,a,e);l[e]?(l[e].p(o,r),O(l[e],1)):(l[e]=Cn(o),l[e].c(),O(l[e],1),l[e].m(n.parentNode,n))}for(N(),e=a.length;e<l.length;e+=1)f(e);T()}},i(t){if(!r){for(let t=0;t<o.length;t+=1)O(i[t]);for(let t=0;t<a.length;t+=1)O(l[t]);r=!0}},o(t){i=i.filter(Boolean);for(let t=0;t<i.length;t+=1)L(i[t]);l=l.filter(Boolean);for(let t=0;t<l.length;t+=1)L(l[t]);r=!1},d(t){u(i,t),t&&c(e),u(l,t),t&&c(n)}}}function Yn(t){let e,n;function r(){return t[23](t[26])}return e=new Fe({props:{gid:t[26],fontface:t[4],onclick:r}}),{c(){B(e.$$.fragment)},m(t,r){D(e,t,r),n=!0},p(n,o){t=n;const i={};128&o[0]&&(i.gid=t[26]),16&o[0]&&(i.fontface=t[4]),128&o[0]&&(i.onclick=r),e.$set(i)},i(t){n||(O(e.$$.fragment,t),n=!0)},o(t){L(e.$$.fragment,t),n=!1},d(t){G(e,t)}}}function Cn(t){let e,n,r;return n=new Fe({props:{gid:t[26],derivable:!0,fontface:t[4]}}),{c(){e=l("br"),B(n.$$.fragment)},m(t,o){h(t,e,o),D(n,t,o),r=!0},p(t,e){const r={};1024&e[0]&&(r.gid=t[26]),16&e[0]&&(r.fontface=t[4]),n.$set(r)},i(t){r||(O(n.$$.fragment,t),r=!0)},o(t){L(n.$$.fragment,t),r=!1},d(t){t&&c(e),G(n,t)}}}function En(t){let e,n,r,o;const i=[In,Sn],s=[];function a(t,e){return t[3]?0:1}return e=a(t),n=s[e]=i[e](t),{c(){n.c(),r=g()},m(t,n){s[e].m(t,n),h(t,r,n),o=!0},p(t,o){let h=e;e=a(t),e===h?s[e].p(t,o):(N(),L(s[h],1,1,(()=>{s[h]=null})),T(),n=s[e],n?n.p(t,o):(n=s[e]=i[e](t),n.c()),O(n,1),n.m(r.parentNode,r))},i(t){o||(O(n),o=!0)},o(t){L(n),o=!1},d(t){s[e].d(t),t&&c(r)}}}function Nn(t){let e,n,r,o,i,s,u,f;const g=[jn,_n],k=[];function v(t,e){return t[6]?0:1}return o=v(t),i=k[o]=g[o](t),{c(){e=l("div"),n=l("span"),n.textContent="🧪",r=p(),i.c(),y(n,"class","clickable"),y(e,"class","container")},m(i,c){h(i,e,c),a(e,n),a(e,r),k[o].m(e,null),s=!0,u||(f=d(n,"click",t[15]),u=!0)},p(t,n){let r=o;o=v(t),o===r?k[o].p(t,n):(N(),L(k[r],1,1,(()=>{k[r]=null})),T(),i=k[o],i?i.p(t,n):(i=k[o]=g[o](t),i.c()),O(i,1),i.m(e,null))},i(t){s||(O(i),s=!0)},o(t){L(i),s=!1},d(t){t&&c(e),k[o].d(),u=!1,f()}}}function Tn(t,e,n){let r,o,i,s,a,h="邏羅寶貝𩀨從䞃致招";document.title="汉字拼形-库存字形"+(Kt?Kt.length:Gt.length+Bt.length+Dt.length);let c=[],u=!1,l=!1,f=!1,p="宋体",g=!1;const d=t=>{n(0,h+=t+"卍"),(()=>{const t=document.querySelector(".input");t.focus(),t.selLength=h.length})()},y=t=>n(0,h=se(t));return t.$$.update=()=>{21&t.$$.dirty[0]&&n(1,c=(Ft(h)?Ye:Ee)(h,{size:200,fontface:p,frame:u})),3&t.$$.dirty[0]&&Ft(h)&&!Array.isArray(typeof c[0])&&n(1,c=[c]),1&t.$$.dirty[0]&&n(11,r=be(h,!0)),1&t.$$.dirty[0]&&n(10,o=je()||[]),1&t.$$.dirty[0]&&n(8,s=(t=>{if(!t)return[];const e=et(t);return e.length?Qt(e[e.length-1]):[]})(h)),9&t.$$.dirty[0]&&n(7,a=f&&1==nt(h)&&ne(h,200)||[])},n(9,i=Object.keys(ae)),[h,c,u,f,p,l,g,a,s,i,o,r,t=>Ne(t.target,h+".png",200),d,y,()=>n(6,g=!g),function(){h=this.value,n(0,h)},function(t){h=t,n(0,h)},()=>n(2,u=!u),()=>n(5,l=!l),t=>n(4,p=t),t=>d(t),()=>n(3,f=!f),t=>y(t)]}return new class extends F{constructor(t){super(),R(this,t,Tn,Nn,i,{},null,[-1,-1])}}({target:document.body})}();
